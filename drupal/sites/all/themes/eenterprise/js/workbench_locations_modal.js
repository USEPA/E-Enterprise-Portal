!function($){$(document).ready(function(){function locationSelect(zipcode,name){var max_allowed_locations=9;name=$.trim(name);var select_title=name+" ("+zipcode+")",$location_select=$("#location-select");if($location_select.find('option[title="'+select_title+'"]').length>0);else{var $new_option=$("<option title='"+select_title+"' value='"+zipcode+"'>"+name+" ("+zipcode+")</option>");$location_select.find("option:nth-child("+max_allowed_locations+")");if("primary"==$location_select.find("option:nth-child(9)").attr("data-ee-location")){var remove_option=max_allowed_locations-1;$location_select.find("option:nth-child("+remove_option+")").remove()}else $location_select.find("option:nth-child("+max_allowed_locations+")").remove();$location_select.find("option:nth-child("+(max_allowed_locations-1)+")").after($new_option)}$("#dialog-all-locations").dialog("close"),$location_select.find('option[title="'+select_title+'"]').prop("selected","selected"),$location_select.trigger("change")}function matchSelectToRadio(setlocation_title){var citystate=setlocation_title.split("(")[0],selectzip=setlocation_title.split("(")[1];selectzip=selectzip.split(")")[0];var select_radio=selectzip+"|"+citystate;$('input[type=radio][id="'+select_radio+'"]').prop("checked",!0)}var previous_selection=$("#location-select option:selected"),cancelling_input=!0;$("#locations-modal").length>0&&$("#dialog-all-locations").dialog({modal:!0,autoOpen:!1,width:"auto",height:400,dialogClass:"locations-modal",create:function(event,ui){$("#dialog-all-locations fieldset").hasClass("hidden-at-start")&&$("#dialog-all-locations fieldset").removeClass("hidden-at-start")},beforeClose:function(){if(cancelling_input){var $location_select=$("#location-select"),select_title=previous_selection.attr("title");$location_select.find('option[title="'+select_title+'"]').prop("selected","selected"),$location_select.trigger("change")}else cancelling_input=!0},buttons:[{text:"Update",class:" usa-button",click:function(){cancelling_input=!1;var selection_array=$(":radio[name=location-radio]:checked").val().split("|"),selection_value=selection_array[0],selection_name=selection_array[1];locationSelect(selection_value,selection_name)}},{text:"Cancel",class:" usa-button-outline",click:function(){$("#dialog-all-locations").dialog("close"),$("body").removeClass("modal-open"),$("#location-select").focus()}}]}),$("body").on("change","#location-select",function(e){var setlocation_title=previous_selection.attr("title");if("Show more..."==$("#location-select option:selected").text())e.preventDefault(),$("body").addClass("modal-open"),matchSelectToRadio(setlocation_title),$("#dialog-all-locations").dialog("open"),$("#dialog-all-locations :radio[name=location-radio]").each(function(){var radioInput=$(this);radioInput.is(":checked")&&$("#dialog-all-locations").animate({scrollTop:radioInput.position().top},1500)}),$("#dialog-all-locations").parent().focus();else{previous_selection=$("#location-select option:selected");var zip_val=$(this).val(),location_name=$(this).find("option:selected").text();location_name=location_name.split("(")[0],location_name=$.trim(location_name),$('input[type=radio][id="'+zip_val+"|"+location_name+'"]').prop("checked",!0),$.post(Drupal.settings.basePath+"default_location_zip",{zip:zip_val,name:location_name})}}),$(":radio[name=location-radio]").change(function(){var container=$("#dialog-all-locations"),scroll_to=$(this);container.scrollTop(scroll_to.offset().top-container.offset().top+container.scrollTop())}),$(window).resize(function(){$("#dialog-all-locations").dialog("option","position",{my:"center",at:"center",of:window})}),jQuery.fn.center=function(){return this.css("position","absolute"),this.css("top",Math.max(0,($(window).height()-$(this).outerHeight())/2+$(window).scrollTop())+"px"),this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px"),this},$(window).resize(function(){var dialog=$("#dialog-all-locations").closest(".ui-dialog");$(window).width()<900?dialog.css("width","auto"):dialog.css("width",900),dialog.center()})})}(jQuery);
//# sourceMappingURL=src/workbench_locations_modal.js.map