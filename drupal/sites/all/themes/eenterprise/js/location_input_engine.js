!function(a){Drupal.behaviors.locationInputEngine={attach:function(b,c){c.locationInputEngine={lookUpLocation:function(b){var c=a.Deferred(),d="",e=!1,f={};return a.ajax({url:Drupal.settings.basePath+"return_location_data",type:"POST",data:{location:b,initial_login:!0},success:function(b){var g=a.parseJSON(b);if(g.name_city_state){var h=g.city.length;if(f.city=g.city,0==h)d="The ZIP code you entered could not be found.",e=!0;else if(1==h)f.zip=g.zip,f.city_select=!1,f.zip_codes=!1,f.city_attr=g.city_attr,f.zip_attr=g.zip_attr;else{var i=(g.city_attr,'<select id="zip-lookup-city-state">');f.zip=g.zip,a.each(g.city,function(a,b){i=i+'<option value="'+b+'">'+b+"</option>"}),i+="</select>",f.city_select=i,f.zip_codes=!1,f.city_attr=g.city_attr,f.zip_attr=g.zip_attr}}else if(f.zip_array=g.zip_array,0==f.zip_array.length)d="No ZIP codes returned. Are you sure the city and state code were entered correctly? (e.g., Durham, NC)",e=!0;else{f.city=g.city,f.state=g.state;var j='<select id="city-state-lookup-zips">',k="";g.zip_attr&&a.each(g.zip_attr,function(a,b){b.city!=k&&""==g.state&&(j=j+'<option value="" disabled>'+b.city+"</option>",k=b.city),j=j+'<option value="'+a+'">'+a+"</option>"}),j+="</select>",f.zip_select=j,f.zip_codes=!0,f.city_attr=g.city_attr,f.zip_attr=g.zip_attr}f.error=e,f.error_message=d,e?c.reject(f):c.resolve(f)}}),c.promise()}}}}}(jQuery);
//# sourceMappingURL=src/location_input_engine.js.map