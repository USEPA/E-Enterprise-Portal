!function(a){function b(b){var c=b.indexOf("(");return c>0?a.trim(b.substr(0,b.indexOf("("))):b}var c=function(b,c,d){b.hide();var e={bLengthChange:!1,sPageButton:"favorites-ignore",oLanguage:{sSearch:"Filter:"},iDisplayLength:3},f=!1;this.wrapper=b,this.ajax_url=c,d?d.indexOf(",")===-1?this.state_code=d:this.state_code=a.trim(d.split(",")[1]):this.state_code=!1,this.hideTable=function(){b.hide()},this.update_current_location=function(b){b.indexOf(",")===-1?this.state_code=b:this.state_code=a.trim(b.split(",")[1]),this.ajax_request()},this.ajax_request=function(){var d=this.state_code;a.ajax({beforeSend:function(){b.html("<p>Loading&hellip;</p>")},url:c,method:"POST",data:{state:d},success:function(c){var d=0;a("table[id^='datatable-']").each(function(){d=Math.max(d,parseInt(a(this).attr("id").substr("datatable-".length),10))}),d++;var g=a("<div>"+c+"</div>");g.find("table").attr("id","datatable-"+d),b.html(g.html()),g=b.find("table"),g.length>0&&(g.DataTable(e),g.removeClass("dataTable display no-footer").addClass("views-table responsive-table usa-table-borderless")),f=!0}})},this.showTable=function(){f?b.show():(this.ajax_request(),b.show())}};a(document).ready(function(){var d=a("#other-areas-tabs");d.tabs(),d.find(".ui-corner-top").on("click",function(b){a(this).focus()});var e,f,g;a("#location-select").length>0?(e=a("#location-select"),f=!1,g=a("#location-select").find("option:selected").text(),g=b(g),e.change(function(){var c=a("#location-select option:selected").text();c=b(c),a("#restrict-to-current-button a").text(c),h.update_current_location(c),h.ajax_request()})):(e=a("#location-input-guests"),f=!0,g=e.text(),g=b(g)),f&&a(document).on("ee:zipCodeQueried",function(b,c){g=c.city+", "+c.state,a("#restrict-to-current-button a").text(g),h.update_current_location(g),h.ajax_request()});var h=new c(a("#current-state-resources"),"generateCurrentAreaOfInterestTable",g);if(!f)var i=new c(a("#favorite-state-resources"),"generateFavoriteAreasOfInterestTable");var j=new c(a("#all-state-resources"),"generateAllAreasOfInterestTable"),k=new c(a("#epa-resources"),"generateCurrentAreaOfInterestTable","US EPA");f||a("#restrict-to-states-button").click(function(){a(this).hasClass("inactive")&&(a(this).removeClass("inactive"),a("#all-states-button").addClass("inactive"),a("#restrict-to-current-button").addClass("inactive"),a("#epa-button").addClass("inactive"),j.hideTable(),h.hideTable(),k.hideTable(),i.showTable())}),a("#all-states-button").click(function(){a(this).hasClass("inactive")&&(a(this).removeClass("inactive"),a("#restrict-to-states-button").addClass("inactive"),a("#restrict-to-current-button").addClass("inactive"),a("#epa-button").addClass("inactive"),j.showTable(),h.hideTable(),f||i.hideTable(),k.hideTable())}),a("#restrict-to-current-button").click(function(){a(this).hasClass("inactive")&&(a(this).removeClass("inactive"),a("#restrict-to-states-button").addClass("inactive"),a("#all-states-button").addClass("inactive"),a("#epa-button").addClass("inactive"),h.showTable(),f||i.hideTable(),j.hideTable(),k.hideTable())}),a("#epa-button").click(function(){a(this).hasClass("inactive")&&(a(this).removeClass("inactive"),a("#restrict-to-states-button").addClass("inactive"),a("#restrict-to-current-button").addClass("inactive"),a("#all-states-button").addClass("inactive"),h.hideTable(),f||i.hideTable(),j.hideTable(),k.showTable())}),a("#restrict-to-current-button a").text(g),h.showTable(),f||i.ajax_request(),j.ajax_request(),k.ajax_request()})}(jQuery);
//# sourceMappingURL=other_items_of_interest.js.map