{"version":3,"sources":["eportal_grid_engine.js"],"names":["$","Drupal","behaviors","initializeGridstack","attach","context","once","previous_grid_settings","cellHeight","verticalMargin","is_saving","allowed_drag","createGrid","serialization","GridStackUI","Utils","sort","settings","gridstack_user_settings","$grid_container","options","vertical_margin","cell_height","data-gs-width","draggable","cancel","is_guest","length","initializeUserLayout","initializeGuestLayout","gridstack","show","grid","data","serialized_data","save_grid_changes","revert_grid_changes","$grid_change_options","prepend","$revert_button","$save_button","addDragListeners","addSaveListeners","addResizeSensors","resizable","movable","trigger","removeClass","$gridStackContent","each","i","obj","id","parent","attr","data-gs-x","x","data-gs-y","y","data-gs-height","count","Math","floor","this","on","rebuildSkipLinks","serializedWidgets","setSkipLink","lastWidget","parents","prevAll","find","last","keydown","e","which","shiftKey","stopImmediatePropagation","sortedWidgets","focus","widgets","_","map","not","el","key","node","width","height","sourceWidget","destinationWidget","skipTitle","trim","text","remove","after","class","href","next-widget","role","click","preventDefault","updateUserIndices","revertIndices","fadeOut","calculateGridHeights","grid_nodes","grid_heights","jQuery","$pane_content","gs_object","nodes","$draggingGrid","setInterval","$elem","resizeCallback","$elementToResize","document","recalculateWidgetHeights","contentHeight","outerHeight","ceil","$pager","size","parseInt","css","gsHeight","console","log","resize","pane_data","$grid_item","update","grid_data","ajax","url","method","beforeSend","html","addClass","prop","hide","success","setTimeout"],"mappings":"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","file":"..\\eportal_grid_engine.js"}