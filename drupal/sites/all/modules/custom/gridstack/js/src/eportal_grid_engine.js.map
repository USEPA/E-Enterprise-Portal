{"version":3,"sources":["eportal_grid_engine.js"],"names":["$","Drupal","behaviors","initializeGridstack","attach","context","once","previous_grid_settings","cellHeight","verticalMargin","is_saving","allowed_drag","createGrid","serialization","GridStackUI","Utils","sort","settings","gridstack_user_settings","$grid_container","options","vertical_margin","cell_height","data-gs-width","draggable","cancel","is_guest","initializeUserLayout","initializeGuestLayout","gridstack","show","grid","data","save_grid_changes","revert_grid_changes","$grid_change_options","prepend","$revert_button","$save_button","addDragListeners","addSaveListeners","addResizeSensors","resizable","movable","$gridStackContent","each","i","obj","id","parent","attr","data-gs-x","x","data-gs-y","y","data-gs-height","count","Math","floor","this","on","rebuildSkipLinks","serializedWidgets","length","setSkipLink","lastWidget","parents","prevAll","find","last","keydown","e","which","shiftKey","stopImmediatePropagation","sortedWidgets","focus","widgets","_","map","el","key","node","width","height","sourceWidget","destinationWidget","skipTitle","trim","text","remove","after","class","href","next-widget","role","click","preventDefault","serialized_data","updateUserIndices","revertIndices","fadeOut","calculateGridHeights","grid_nodes","grid_heights","jQuery","$pane_content","gs_object","nodes","setInterval","$elem","resizeCallback","recalculateWidgetHeights","contentHeight","outerHeight","ceil","$pager","size","parseInt","css","gsHeight","resize","pane_data","$grid_item","update","grid_data","ajax","url","method","beforeSend","html","addClass","prop","hide","success","setTimeout","removeClass"],"mappings":"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","file":"..\\eportal_grid_engine.js"}