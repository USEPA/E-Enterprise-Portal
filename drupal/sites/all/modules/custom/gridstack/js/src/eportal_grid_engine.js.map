{"version":3,"sources":["eportal_grid_engine.js"],"names":["$","previous_grid_settings","cellHeight","verticalMargin","is_saving","allowed_drag","createGrid","serialization","GridStackUI","Utils","sort","Drupal","settings","gridstack_user_settings","$grid_container","options","vertical_margin","cell_height","data-gs-width","draggable","cancel","is_guest","length","initializeUserLayout","initializeGuestLayout","gridstack","show","grid","data","serialized_data","save_grid_changes","revert_grid_changes","$grid_change_options","prepend","$revert_button","$save_button","addDragListeners","addSaveListeners","addResizeSensors","rebuildSkipLinks","sortedWidgets","resizable","movable","removeClass","$gridStackContent","each","i","obj","id","parent","attr","data-gs-x","x","data-gs-y","y","data-gs-height","count","Math","floor","this","on","serializedWidgets","setSkipLink","lastWidget","parents","prevAll","find","last","keydown","e","which","shiftKey","stopImmediatePropagation","focus","widgets","_","map","not","el","key","node","width","height","sourceWidget","destinationWidget","skipTitle","trim","text","remove","after","class","href","next-widget","role","click","preventDefault","updateUserIndices","revertIndices","fadeOut","calculateGridHeights","grid_nodes","grid_heights","jQuery","$pane_content","gs_object","nodes","$draggingGrid","setInterval","$elem","resizeCallback","$elementToResize","document","trigger","recalculateWidgetHeights","contentHeight","outerHeight","ceil","$pager","size","parseInt","css","gsHeight","resize","pane_data","$grid_item","update","grid_data","ajax","url","method","beforeSend","html","addClass","prop","hide","success","setTimeout"],"mappings":"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","file":"..\\eportal_grid_engine.js"}