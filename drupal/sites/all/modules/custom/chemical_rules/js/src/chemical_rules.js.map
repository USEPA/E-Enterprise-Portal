{"version":3,"sources":["chemical_rules.js"],"names":["showElementOutOfMany","$wrapper_to_show","$common_selector","hide","show","resizeModal","jQuery","dialog","position","my","at","css","replace","checkValues","previous","current","cIndex","keys","previousKeys","Object","indexOf","Value","reduce","length","resetCRForm","$form","$","val","sampleData","tabs","click","modal","width","dialogClass","autoOpen","draggable","create","event","ui","tocify","selectors","data","window","resize","close","on","$form_wrapper","$all_wrappers"],"mappings":"AAAA,QAASA,sBAAqBC,iBAAkBC,kBAC9CA,iBAAiBC,OACjBF,iBAAiBG,OACjBC,cAGF,QAASA,eACPC,OAAO,yBAAyBC,QAC9BC,UAAYC,GAAM,SAAUC,GAAM,YAEjCJ,OAAO,yBAAyBK,IAAI,OAAOC,QAAQ,KAAM,IAAM,GAChEN,OAAO,yBAAyBK,IAAI,MAAO,GAI/C,QAASE,aAAYC,SAAUC,QAASC,OAAQC,MAC9C,GAAIC,gBAcJ,OAboC,gBAA1BJ,UAASG,KAAKD,WACtBE,aAAeC,OAAOF,KAAKH,SAASG,KAAKD,WAGtCE,aAAaE,QAAQ,UAAW,GAAsC,IAAhCN,SAASG,KAAKD,SAASK,YACzDP,UAASG,KAAKD,UAEb,UAAUI,cAAeN,UAASG,KAAKD,WAAY,IAC3DF,SAASG,KAAKD,SAAWE,aAAaI,OAAOT,YAAaC,SAASG,KAAKD,UACtB,GAA9CG,OAAOF,KAAKH,SAASG,KAAKD,UAAUO,cAC/BT,UAASG,KAAKD,UAGlBF,SAQT,QAASU,eACP,GAAIC,OAAQC,EAAE,aAEdD,OAAME,IAAI,IARZ,GAAIC,YAAa,cAWjB,SAAUF,GACOA,EAAE,YAAYG,MAmB7BH,GAAE,wBAAwBI,MAAM,WAC9BJ,EAAE,yBACCnB,QACCwB,OAAO,EACPC,MAAO,OACPxB,UAAYC,GAAM,SAAUC,GAAM,UAClCuB,YAAa,uBAEbC,UAAU,EACVC,WAAW,EACXC,OAAQ,SAASC,MAAOC,IACZZ,EAAE,uBAAuBa,QAASC,UAAW,OAAQC,KAAK,aACpEf,GAAEgB,QAAQC,OAAO,WAAWtC,iBAE9BuC,MAAO,SAASP,MAAOC,QAG3BjC,gBAQFqB,EAAE,yBAAyBmB,GAAG,cAAe,WAC3C,GAAIC,eAAgBpB,EAAE,gCAClBqB,cAAgBrB,EAAE,gCAEtB1B,sBAAqB8C,cAAeC,eACpC1C,iBAGDC","file":"chemical_rules.js","sourcesContent":["function showElementOutOfMany($wrapper_to_show, $common_selector) {\n  $common_selector.hide();\n  $wrapper_to_show.show();\n  resizeModal()\n}\n\nfunction resizeModal() {\n  jQuery('#chemical-rules-modal').dialog({\n    position: { 'my': 'center', 'at': 'center' }\n  });\n  if(jQuery('.chemical-rules-modal').css('top').replace('px', '') < 1){\n    jQuery('.chemical-rules-modal').css('top', 0)\n  }\n}\n\nfunction checkValues(previous, current, cIndex, keys) {\n  var previousKeys = [];\n  if(typeof previous[keys[cIndex]] == 'object'){\n    previousKeys = Object.keys(previous[keys[cIndex]])\n  }\n\n  if ((previousKeys.indexOf('Value') > -1 && previous[keys[cIndex]].Value == \"\")) {\n    delete previous[keys[cIndex]];\n  }\n  else if (['object'].indexOf(typeof previous[keys[cIndex]]) > -1) {\n    previous[keys[cIndex]] = previousKeys.reduce(checkValues, previous[keys[cIndex]])\n    if (Object.keys(previous[keys[cIndex]]).length == 0) {\n      delete previous[keys[cIndex]];\n    }\n  }\n  return previous\n}\n\nvar sampleData = function() {};\n\n/**\n * Clear form inputs and hide warning messages\n */\nfunction resetCRForm() {\n  var $form = $('#cr-search');\n  //$form.find('input[type=text]').val('');\n  $form.val('');\n}\n\n(function($) {\n  var $cr_tabs = $('#cr-tabs').tabs();\n  var sampleSetIndex = 0;\n  /*sampleData =  function(sample) {\n    // lets us cycle through different sets of test data\n    if(!sample) {\n      // different handy test cases\n      sampleSet = [{\"CityName\":\"Anonymous\",\"RoutineContaminants\":{\"As\":{\"Symbol\":\"As\",\"Name\":\"Arsenic\",\"Value\":\".009\",\"Unit\":\"mg/L\"},\"Cl\":{\"Symbol\":\"Cl\",\"Name\":\"Chloride\",\"Value\":\"5.2\",\"Unit\":\"mg/L\"},\"Cu\":{\"Symbol\":\"Cu\",\"Name\":\"Copper\",\"Value\":\".104\",\"Unit\":\"mg/L\"},\"CuSt\":{\"Symbol\":\"CuSt\",\"Name\":\"Copper, Stagnant\",\"Value\":\".636\",\"Unit\":\"mg/L\"},\"Fl\":{\"Symbol\":\"Fl\",\"Name\":\"Fluoride\",\"Value\":\".8\",\"Unit\":\"mg/L\"},\"Har\":{\"Symbol\":\"Har\",\"Name\":\"Hardness as CaCO3\",\"Value\":\"34.1\",\"Unit\":\"mg/L\"},\"Fe\":{\"Symbol\":\"Fe\",\"Name\":\"Iron\",\"Value\":\"0\",\"Unit\":\"mg/L\"},\"Pb\":{\"Symbol\":\"Pb\",\"Name\":\"Lead\",\"Value\":\"0\",\"Unit\":\"mg/L\"},\"PbSt\":{\"Symbol\":\"PbSt\",\"Name\":\"Lead, Stagnant\",\"Value\":\".010\",\"Unit\":\"mg/L\"},\"Mn\":{\"Symbol\":\"Mn\",\"Name\":\"Manganese\",\"Value\":\"0\",\"Unit\":\"mg/L\"},\"NO3\":{\"Symbol\":\"NO3\",\"Name\":\"Nitrate-N\",\"Value\":\".99\",\"Unit\":\"mg/L\"},\"NO2\":{\"Symbol\":\"NO2\",\"Name\":\"Nitrite-N\",\"Value\":\"0\",\"Unit\":\"mg/L\"},\"ph\":{\"Symbol\":\"ph\",\"Name\":\"pH\",\"Value\":\"6.62\",\"Unit\":\"units\"},\"Na\":{\"Symbol\":\"Na\",\"Name\":\"Sodium\",\"Value\":\"9.24\",\"Unit\":\"mg/L\"}},\"Bac_G\":\"rdb_Bac_False\",\"Ecoli_G\":\"rdb_Ecoli_False\",\"RadionuclideContaminants\":{\"Rn\":{\"Symbol\":\"Rn\",\"Name\":\"Radon\",\"Value\":\"2194\",\"Unit\":\"pCi/L\"},\"U\":{\"Symbol\":\"U\",\"Name\":\"Uranium\",\"Value\":\"8\",\"Unit\":\"μg/L\"},\"AGA\":{\"Symbol\":\"AGA\",\"Name\":\"Gross Alpha\",\"Value\":\"7.3\",\"Unit\":\"pCi/L\"}}},\n        { \"CityName\":\"Anonymous\", \"RoutineContaminants\":{ \"As\": { \"Symbol\":\"As\", \"Name\": \"Arsenic\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}, \"Cl\": { \"Symbol\":\"Cl\", \"Name\": \"Chloride\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}, \"Cu\": { \"Symbol\":\"Cu\", \"Name\": \"Copper\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}, \"CuSt\":{ \"Symbol\": \"CuSt\", \"Name\": \"Copper, Stagnant\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}, \"Fl\": { \"Symbol\":\"Fl\", \"Name\": \"Fluoride\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}, \"Har\": { \"Symbol\": \"Har\", \"Name\": \"Hardness as CaCO3\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}, \"Fe\": { \"Symbol\":\"Fe\", \"Name\": \"Iron\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}, \"Pb\": { \"Symbol\":\"Pb\", \"Name\": \"Lead\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}, \"PbSt\":{ \"Symbol\": \"PbSt\", \"Name\": \"Lead, Stagnant\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}, \"Mn\": { \"Symbol\":\"Mn\", \"Name\": \"Manganese\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}, \"NO3\": { \"Symbol\": \"NO3\", \"Name\": \"Nitrate-N\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}, \"NO2\": { \"Symbol\": \"NO2\", \"Name\": \"Nitrite-N\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}, \"ph\": { \"Symbol\":\"ph\", \"Name\": \"pH\", \"Value\": \"6.1\", \"Unit\": \"units\"}, \"Na\": { \"Symbol\":\"Na\", \"Name\": \"Sodium\", \"Value\": \"1234\", \"Unit\": \"mg/L\"}}, \"BacterialContaminants\":{ \"Bac\": { \"Symbol\":\"Bac\", \"Name\": \"Total Coliform\", \"Value\": \"1234\", \"Unit\": \"CFU/100 mL\"}, \"Ecoli\":{ \"Symbol\": \"Ecoli\", \"Name\": \"E. Coli\", \"Value\": \"1234\", \"Unit\": \"CFU/100 mL\"}}, \"Bac_G\":\"rdb_Bac_True\", \"Ecoli_G\":\"rdb_Ecoli_True\", \"RadionuclideContaminants\":{ \"Rn\": { \"Symbol\":\"Rn\", \"Name\": \"Radon\", \"Value\": \"1234\", \"Unit\": \"pCi/L\"}, \"Ur\": { \"Symbol\":\"Ur\", \"Name\": \"Uranium\", \"Value\": \"1234\", \"Unit\": \"μg/L\"}, \"AGA\": { \"Symbol\": \"AGA\", \"Name\": \"Gross Alpha\", \"Value\": \"1234\", \"Unit\": \"pCi/L\"}}},\n        {\"CityName\":\"Anonymous\",\"RoutineContaminants\":{\"As\":{\"Symbol\":\"As\",\"Name\":\"Arsenic\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Cl\":{\"Symbol\":\"Cl\",\"Name\":\"Chloride\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Har\":{\"Symbol\":\"Har\",\"Name\":\"Hardness as CaCO3\",\"Value\":\"1234\",\"Unit\":\"mg/L\"}}},\n        {\"CityName\":\"Anonymous\",\"RoutineContaminants\":{\"As\":{\"Symbol\":\"As\",\"Name\":\"Arsenic\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Cl\":{\"Symbol\":\"Cl\",\"Name\":\"Chloride\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Cu\":{\"Symbol\":\"Cu\",\"Name\":\"Copper\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"CuSt\":{\"Symbol\":\"CuSt\",\"Name\":\"Copper, Stagnant\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Fl\":{\"Symbol\":\"Fl\",\"Name\":\"Fluoride\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Har\":{\"Symbol\":\"Har\",\"Name\":\"Hardness as CaCO3\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Fe\":{\"Symbol\":\"Fe\",\"Name\":\"Iron\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Pb\":{\"Symbol\":\"Pb\",\"Name\":\"Lead\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"PbSt\":{\"Symbol\":\"PbSt\",\"Name\":\"Lead, Stagnant\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Mn\":{\"Symbol\":\"Mn\",\"Name\":\"Manganese\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"NO3\":{\"Symbol\":\"NO3\",\"Name\":\"Nitrate-N\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"NO2\":{\"Symbol\":\"NO2\",\"Name\":\"Nitrite-N\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"ph\":{\"Symbol\":\"ph\",\"Name\":\"pH\",\"Value\":\"6.1\",\"Unit\":\"units\"},\"Na\":{\"Symbol\":\"Na\",\"Name\":\"Sodium\",\"Value\":\"1234\",\"Unit\":\"mg/L\"}},\"BacterialContaminants\":{\"Bac\":{\"Symbol\":\"Bac\",\"Name\":\"Total Coliform\",\"Value\":\"1234\",\"Unit\":\"CFU/100 mL\"},\"Ecoli\":{\"Symbol\":\"Ecoli\",\"Name\":\"E. Coli\",\"Value\":\"1234\",\"Unit\":\"CFU/100 mL\"}},\"Bac_G\":\"rdb_Bac_True\",\"Ecoli_G\":\"rdb_Ecoli_True\",\"RadionuclideContaminants\":{\"Rn\":{\"Symbol\":\"Rn\",\"Name\":\"Radon\",\"Value\":\"1234\",\"Unit\":\"pCi/L\"},\"Ur\":{\"Symbol\":\"Ur\",\"Name\":\"Uranium\",\"Value\":\"1234\",\"Unit\":\"μg/L\"},\"AGA\":{\"Symbol\":\"AGA\",\"Name\":\"Gross Alpha\",\"Value\":\"1234\",\"Unit\":\"pCi/L\"}},\"InteractivePromptResponses\":{\"0\":{\"InteractionIdentifier\":\"Cl_True\",\"Symbol\":\"Cl\"},\"1\":{\"InteractionIdentifier\":\"Har_True\",\"Symbol\":\"Har\"}}},\n      ]\n      sample = sampleSet[sampleSetIndex]\n      sampleSetIndex = ++sampleSetIndex % sampleSet.length\n    }\n\n    resetCRForm();\n\n  }*/\n\n  $('#cr-search-chems-btn').click(function() {\n    $('#chemical-rules-modal')\n      .dialog({\n        modal: true,\n        width: \"auto\",\n        position: { 'my': 'center', 'at': 'center' },\n        dialogClass: 'chemical-rules-modal',\n        //autoOpen: false,\n        autoOpen: true,\n        draggable: false,\n        create: function(event, ui) {\n          var toc = $(\"#cr-modal-toc-icons\").tocify({ selectors: \"h2\" }).data(\"toc-tocify\");\n          $(window).resize(function(){resizeModal();})\n        },\n        close: function(event, ui) {\n        }\n    });\n    resizeModal()\n  });\n\n  /**\n   * Close Listener on Chemical Rules Modal\n   * -  Remove Previous Results ?\n   * -  Cancel Pending Form submission\n   */\n  $('#chemical-rules-modal').on('dialogclose', function() {\n    var $form_wrapper = $('#chemical-rules-form-wrapper');\n    var $all_wrappers = $('.chemical-rules-modal-wrapper');\n\n    showElementOutOfMany($form_wrapper, $all_wrappers);\n    resizeModal()\n  });\n\n})(jQuery);\n"]}