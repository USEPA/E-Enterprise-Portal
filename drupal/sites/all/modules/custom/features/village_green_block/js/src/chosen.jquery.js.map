{"version":3,"sources":["chosen.jquery.js"],"names":["$","AbstractChosen","Chosen","SelectParser","_ref","__hasProp","hasOwnProperty","__extends","child","parent","ctor","this","constructor","key","call","prototype","__super__","options_index","parsed","add_node","nodeName","toUpperCase","add_group","add_option","group","group_position","option","_i","_len","_results","length","push","array_index","label","escapeExpression","children","disabled","childNodes","group_disabled","text","value","html","innerHTML","selected","group_array_index","classes","className","style","cssText","empty","map","unsafe_chars","test","<",">","\"","'","`","replace","chr","select_to_array","select","parser","form_field","options","browser_is_supported","is_multiple","multiple","set_default_text","set_default_values","setup","set_up_html","register_observers","_this","click_test_action","evt","test_active_click","activate_action","activate_field","active_field","mouse_on_container","results_showing","result_highlighted","allow_single_deselect","disable_search_threshold","disable_search","enable_split_word_search","group_search","search_contains","single_backstroke_delete","max_selected_options","Infinity","inherit_select_classes","display_selected_options","display_disabled_options","getAttribute","default_text","placeholder_text_multiple","placeholder_text","default_multiple_text","placeholder_text_single","default_single_text","results_none_found","no_results_text","default_no_result_text","mouse_enter","mouse_leave","input_focus","setTimeout","container_mousedown","input_blur","blur_test","results_option_build","content","data","results_data","result_add_group","result_add_option","first","choice_build","single_set_selected_text","option_el","search_match","include_option_in_results","document","createElement","join","setAttribute","search_text","outerHTML","group_el","group_match","active_options","results_update_field","results_reset_cleanup","result_clear_highlight","results_build","winnow_results","reset_single_select_options","result","results_toggle","results_hide","results_show","results_search","escapedSearchText","regex","results","results_group","searchText","startpos","zregex","no_results_clear","get_search_text","RegExp","get_search_regex","search_string_match","search","substr","update_results_content","no_results","winnow_results_set_highlight","escaped_search_string","regex_anchor","search_string","part","parts","indexOf","split","choices_count","selected_option_count","choices_click","preventDefault","is_disabled","keyup_checker","stroke","which","keyCode","search_field_scale","backstroke_length","keydown_backstroke","pending_backstroke","result_select","clipboard_event_checker","container_width","width","offsetWidth","search_results_touchstart","touch_started","search_results_mouseover","search_results_touchmove","search_results_mouseout","search_results_touchend","search_results_mouseup","element","tmp","appendChild","window","navigator","appName","documentMode","userAgent","jQuery","fn","extend","chosen","each","input_field","$this","destroy","_super","apply","arguments","form_field_jq","current_selectedIndex","selectedIndex","is_rtl","hasClass","container_classes","container_props","class","title","id","container","hide","after","dropdown","find","search_field","search_results","search_no_results","search_choices","search_container","selected_item","set_tab_index","set_label_behavior","trigger","bind","container_mouseup","search_results_mousewheel","keydown_checker","ownerDocument","unbind","tabIndex","remove","removeData","show","search_field_disabled","addClass","close_field","removeClass","type","target","parents","val","results_reset","delta","originalEvent","deltaY","wheelDelta","detail","scrollTop","clear_backstroke","show_search_field_default","focus","active_container","closest","parsing","readOnly","result_do_highlight","el","high_bottom","high_top","maxHeight","visible_bottom","visible_top","result_highlight","parseInt","css","position","top","outerHeight","ti","form_field_label","item","choice","close_link","data-option-array-index","choice_destroy_link_click","append","before","stopPropagation","choice_destroy","link","result_deselect","high","metaKey","ctrlKey","single_deselect_control_build","pos","result_data","deselected","trim","do_high","selected_results","terms","no_results_html","keydown_arrow","next_sib","nextAll","keyup_arrow","prev_sibs","prevAll","next_available_destroy","siblings","last","_ref1","div","f_width","h","style_block","styles","w","outerWidth"],"mappings":"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","file":"chosen.jquery.js","sourcesContent":["/*!\r\nChosen, a Select Box Enhancer for jQuery and Prototype\r\nby Patrick Filler for Harvest, http://getharvest.com\r\n\r\nVersion 1.2.0\r\nFull source at https://github.com/harvesthq/chosen\r\nCopyright (c) 2011-2014 Harvest http://getharvest.com\r\n\r\nMIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md\r\nThis file is generated by `grunt build`, do not edit it by hand.\r\n*/\r\n\r\n(function() {\r\n  var $, AbstractChosen, Chosen, SelectParser, _ref,\r\n    __hasProp = {}.hasOwnProperty,\r\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\r\n\r\n  SelectParser = (function() {\r\n    function SelectParser() {\r\n      this.options_index = 0;\r\n      this.parsed = [];\r\n    }\r\n\r\n    SelectParser.prototype.add_node = function(child) {\r\n      if (child.nodeName.toUpperCase() === \"OPTGROUP\") {\r\n        return this.add_group(child);\r\n      } else {\r\n        return this.add_option(child);\r\n      }\r\n    };\r\n\r\n    SelectParser.prototype.add_group = function(group) {\r\n      var group_position, option, _i, _len, _ref, _results;\r\n      group_position = this.parsed.length;\r\n      this.parsed.push({\r\n        array_index: group_position,\r\n        group: true,\r\n        label: this.escapeExpression(group.label),\r\n        children: 0,\r\n        disabled: group.disabled\r\n      });\r\n      _ref = group.childNodes;\r\n      _results = [];\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        option = _ref[_i];\r\n        _results.push(this.add_option(option, group_position, group.disabled));\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    SelectParser.prototype.add_option = function(option, group_position, group_disabled) {\r\n      if (option.nodeName.toUpperCase() === \"OPTION\") {\r\n        if (option.text !== \"\") {\r\n          if (group_position != null) {\r\n            this.parsed[group_position].children += 1;\r\n          }\r\n          this.parsed.push({\r\n            array_index: this.parsed.length,\r\n            options_index: this.options_index,\r\n            value: option.value,\r\n            text: option.text,\r\n            html: option.innerHTML,\r\n            selected: option.selected,\r\n            disabled: group_disabled === true ? group_disabled : option.disabled,\r\n            group_array_index: group_position,\r\n            classes: option.className,\r\n            style: option.style.cssText\r\n          });\r\n        } else {\r\n          this.parsed.push({\r\n            array_index: this.parsed.length,\r\n            options_index: this.options_index,\r\n            empty: true\r\n          });\r\n        }\r\n        return this.options_index += 1;\r\n      }\r\n    };\r\n\r\n    SelectParser.prototype.escapeExpression = function(text) {\r\n      var map, unsafe_chars;\r\n      if ((text == null) || text === false) {\r\n        return \"\";\r\n      }\r\n      if (!/[\\&\\<\\>\\\"\\'\\`]/.test(text)) {\r\n        return text;\r\n      }\r\n      map = {\r\n        \"<\": \"&lt;\",\r\n        \">\": \"&gt;\",\r\n        '\"': \"&quot;\",\r\n        \"'\": \"&#x27;\",\r\n        \"`\": \"&#x60;\"\r\n      };\r\n      unsafe_chars = /&(?!\\w+;)|[\\<\\>\\\"\\'\\`]/g;\r\n      return text.replace(unsafe_chars, function(chr) {\r\n        return map[chr] || \"&amp;\";\r\n      });\r\n    };\r\n\r\n    return SelectParser;\r\n\r\n  })();\r\n\r\n  SelectParser.select_to_array = function(select) {\r\n    var child, parser, _i, _len, _ref;\r\n    parser = new SelectParser();\r\n    _ref = select.childNodes;\r\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n      child = _ref[_i];\r\n      parser.add_node(child);\r\n    }\r\n    return parser.parsed;\r\n  };\r\n\r\n  AbstractChosen = (function() {\r\n    function AbstractChosen(form_field, options) {\r\n      this.form_field = form_field;\r\n      this.options = options != null ? options : {};\r\n      if (!AbstractChosen.browser_is_supported()) {\r\n        return;\r\n      }\r\n      this.is_multiple = this.form_field.multiple;\r\n      this.set_default_text();\r\n      this.set_default_values();\r\n      this.setup();\r\n      this.set_up_html();\r\n      this.register_observers();\r\n    }\r\n\r\n    AbstractChosen.prototype.set_default_values = function() {\r\n      var _this = this;\r\n      this.click_test_action = function(evt) {\r\n        return _this.test_active_click(evt);\r\n      };\r\n      this.activate_action = function(evt) {\r\n        return _this.activate_field(evt);\r\n      };\r\n      this.active_field = false;\r\n      this.mouse_on_container = false;\r\n      this.results_showing = false;\r\n      this.result_highlighted = null;\r\n      this.allow_single_deselect = (this.options.allow_single_deselect != null) && (this.form_field.options[0] != null) && this.form_field.options[0].text === \"\" ? this.options.allow_single_deselect : false;\r\n      this.disable_search_threshold = this.options.disable_search_threshold || 0;\r\n      this.disable_search = this.options.disable_search || false;\r\n      this.enable_split_word_search = this.options.enable_split_word_search != null ? this.options.enable_split_word_search : true;\r\n      this.group_search = this.options.group_search != null ? this.options.group_search : true;\r\n      this.search_contains = this.options.search_contains || false;\r\n      this.single_backstroke_delete = this.options.single_backstroke_delete != null ? this.options.single_backstroke_delete : true;\r\n      this.max_selected_options = this.options.max_selected_options || Infinity;\r\n      this.inherit_select_classes = this.options.inherit_select_classes || false;\r\n      this.display_selected_options = this.options.display_selected_options != null ? this.options.display_selected_options : true;\r\n      return this.display_disabled_options = this.options.display_disabled_options != null ? this.options.display_disabled_options : true;\r\n    };\r\n\r\n    AbstractChosen.prototype.set_default_text = function() {\r\n      if (this.form_field.getAttribute(\"data-placeholder\")) {\r\n        this.default_text = this.form_field.getAttribute(\"data-placeholder\");\r\n      } else if (this.is_multiple) {\r\n        this.default_text = this.options.placeholder_text_multiple || this.options.placeholder_text || AbstractChosen.default_multiple_text;\r\n      } else {\r\n        this.default_text = this.options.placeholder_text_single || this.options.placeholder_text || AbstractChosen.default_single_text;\r\n      }\r\n      return this.results_none_found = this.form_field.getAttribute(\"data-no_results_text\") || this.options.no_results_text || AbstractChosen.default_no_result_text;\r\n    };\r\n\r\n    AbstractChosen.prototype.mouse_enter = function() {\r\n      return this.mouse_on_container = true;\r\n    };\r\n\r\n    AbstractChosen.prototype.mouse_leave = function() {\r\n      return this.mouse_on_container = false;\r\n    };\r\n\r\n    AbstractChosen.prototype.input_focus = function(evt) {\r\n      var _this = this;\r\n      if (this.is_multiple) {\r\n        if (!this.active_field) {\r\n          return setTimeout((function() {\r\n            return _this.container_mousedown();\r\n          }), 50);\r\n        }\r\n      } else {\r\n        if (!this.active_field) {\r\n          return this.activate_field();\r\n        }\r\n      }\r\n    };\r\n\r\n    AbstractChosen.prototype.input_blur = function(evt) {\r\n      var _this = this;\r\n      if (!this.mouse_on_container) {\r\n        this.active_field = false;\r\n        return setTimeout((function() {\r\n          return _this.blur_test();\r\n        }), 100);\r\n      }\r\n    };\r\n\r\n    AbstractChosen.prototype.results_option_build = function(options) {\r\n      var content, data, _i, _len, _ref;\r\n      content = '';\r\n      _ref = this.results_data;\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        data = _ref[_i];\r\n        if (data.group) {\r\n          content += this.result_add_group(data);\r\n        } else {\r\n          content += this.result_add_option(data);\r\n        }\r\n        if (options != null ? options.first : void 0) {\r\n          if (data.selected && this.is_multiple) {\r\n            this.choice_build(data);\r\n          } else if (data.selected && !this.is_multiple) {\r\n            this.single_set_selected_text(data.text);\r\n          }\r\n        }\r\n      }\r\n      return content;\r\n    };\r\n\r\n    AbstractChosen.prototype.result_add_option = function(option) {\r\n      var classes, option_el;\r\n      if (!option.search_match) {\r\n        return '';\r\n      }\r\n      if (!this.include_option_in_results(option)) {\r\n        return '';\r\n      }\r\n      classes = [];\r\n      if (!option.disabled && !(option.selected && this.is_multiple)) {\r\n        classes.push(\"active-result\");\r\n      }\r\n      if (option.disabled && !(option.selected && this.is_multiple)) {\r\n        classes.push(\"disabled-result\");\r\n      }\r\n      if (option.selected) {\r\n        classes.push(\"result-selected\");\r\n      }\r\n      if (option.group_array_index != null) {\r\n        classes.push(\"group-option\");\r\n      }\r\n      if (option.classes !== \"\") {\r\n        classes.push(option.classes);\r\n      }\r\n      option_el = document.createElement(\"li\");\r\n      option_el.className = classes.join(\" \");\r\n      option_el.style.cssText = option.style;\r\n      option_el.setAttribute(\"data-option-array-index\", option.array_index);\r\n      option_el.innerHTML = option.search_text;\r\n      return this.outerHTML(option_el);\r\n    };\r\n\r\n    AbstractChosen.prototype.result_add_group = function(group) {\r\n      var group_el;\r\n      if (!(group.search_match || group.group_match)) {\r\n        return '';\r\n      }\r\n      if (!(group.active_options > 0)) {\r\n        return '';\r\n      }\r\n      group_el = document.createElement(\"li\");\r\n      group_el.className = \"group-result\";\r\n      group_el.innerHTML = group.search_text;\r\n      return this.outerHTML(group_el);\r\n    };\r\n\r\n    AbstractChosen.prototype.results_update_field = function() {\r\n      this.set_default_text();\r\n      if (!this.is_multiple) {\r\n        this.results_reset_cleanup();\r\n      }\r\n      this.result_clear_highlight();\r\n      this.results_build();\r\n      if (this.results_showing) {\r\n        return this.winnow_results();\r\n      }\r\n    };\r\n\r\n    AbstractChosen.prototype.reset_single_select_options = function() {\r\n      var result, _i, _len, _ref, _results;\r\n      _ref = this.results_data;\r\n      _results = [];\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        result = _ref[_i];\r\n        if (result.selected) {\r\n          _results.push(result.selected = false);\r\n        } else {\r\n          _results.push(void 0);\r\n        }\r\n      }\r\n      return _results;\r\n    };\r\n\r\n    AbstractChosen.prototype.results_toggle = function() {\r\n      if (this.results_showing) {\r\n        return this.results_hide();\r\n      } else {\r\n        return this.results_show();\r\n      }\r\n    };\r\n\r\n    AbstractChosen.prototype.results_search = function(evt) {\r\n      if (this.results_showing) {\r\n        return this.winnow_results();\r\n      } else {\r\n        return this.results_show();\r\n      }\r\n    };\r\n\r\n    AbstractChosen.prototype.winnow_results = function() {\r\n      var escapedSearchText, option, regex, results, results_group, searchText, startpos, text, zregex, _i, _len, _ref;\r\n      this.no_results_clear();\r\n      results = 0;\r\n      searchText = this.get_search_text();\r\n      escapedSearchText = searchText.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\r\n      zregex = new RegExp(escapedSearchText, 'i');\r\n      regex = this.get_search_regex(escapedSearchText);\r\n      _ref = this.results_data;\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        option = _ref[_i];\r\n        option.search_match = false;\r\n        results_group = null;\r\n        if (this.include_option_in_results(option)) {\r\n          if (option.group) {\r\n            option.group_match = false;\r\n            option.active_options = 0;\r\n          }\r\n          if ((option.group_array_index != null) && this.results_data[option.group_array_index]) {\r\n            results_group = this.results_data[option.group_array_index];\r\n            if (results_group.active_options === 0 && results_group.search_match) {\r\n              results += 1;\r\n            }\r\n            results_group.active_options += 1;\r\n          }\r\n          if (!(option.group && !this.group_search)) {\r\n            option.search_text = option.group ? option.label : option.text;\r\n            option.search_match = this.search_string_match(option.search_text, regex);\r\n            if (option.search_match && !option.group) {\r\n              results += 1;\r\n            }\r\n            if (option.search_match) {\r\n              if (searchText.length) {\r\n                startpos = option.search_text.search(zregex);\r\n                text = option.search_text.substr(0, startpos + searchText.length) + '</em>' + option.search_text.substr(startpos + searchText.length);\r\n                option.search_text = text.substr(0, startpos) + '<em>' + text.substr(startpos);\r\n              }\r\n              if (results_group != null) {\r\n                results_group.group_match = true;\r\n              }\r\n            } else if ((option.group_array_index != null) && this.results_data[option.group_array_index].search_match) {\r\n              option.search_match = true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      this.result_clear_highlight();\r\n      if (results < 1 && searchText.length) {\r\n        this.update_results_content(\"\");\r\n        return this.no_results(searchText);\r\n      } else {\r\n        this.update_results_content(this.results_option_build());\r\n        return this.winnow_results_set_highlight();\r\n      }\r\n    };\r\n\r\n    AbstractChosen.prototype.get_search_regex = function(escaped_search_string) {\r\n      var regex_anchor;\r\n      regex_anchor = this.search_contains ? \"\" : \"^\";\r\n      return new RegExp(regex_anchor + escaped_search_string, 'i');\r\n    };\r\n\r\n    AbstractChosen.prototype.search_string_match = function(search_string, regex) {\r\n      var part, parts, _i, _len;\r\n      if (regex.test(search_string)) {\r\n        return true;\r\n      } else if (this.enable_split_word_search && (search_string.indexOf(\" \") >= 0 || search_string.indexOf(\"[\") === 0)) {\r\n        parts = search_string.replace(/\\[|\\]/g, \"\").split(\" \");\r\n        if (parts.length) {\r\n          for (_i = 0, _len = parts.length; _i < _len; _i++) {\r\n            part = parts[_i];\r\n            if (regex.test(part)) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    AbstractChosen.prototype.choices_count = function() {\r\n      var option, _i, _len, _ref;\r\n      if (this.selected_option_count != null) {\r\n        return this.selected_option_count;\r\n      }\r\n      this.selected_option_count = 0;\r\n      _ref = this.form_field.options;\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        option = _ref[_i];\r\n        if (option.selected) {\r\n          this.selected_option_count += 1;\r\n        }\r\n      }\r\n      return this.selected_option_count;\r\n    };\r\n\r\n    AbstractChosen.prototype.choices_click = function(evt) {\r\n      evt.preventDefault();\r\n      if (!(this.results_showing || this.is_disabled)) {\r\n        return this.results_show();\r\n      }\r\n    };\r\n\r\n    AbstractChosen.prototype.keyup_checker = function(evt) {\r\n      var stroke, _ref;\r\n      stroke = (_ref = evt.which) != null ? _ref : evt.keyCode;\r\n      this.search_field_scale();\r\n      switch (stroke) {\r\n        case 8:\r\n          if (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) {\r\n            return this.keydown_backstroke();\r\n          } else if (!this.pending_backstroke) {\r\n            this.result_clear_highlight();\r\n            return this.results_search();\r\n          }\r\n          break;\r\n        case 13:\r\n          evt.preventDefault();\r\n          if (this.results_showing) {\r\n            return this.result_select(evt);\r\n          }\r\n          break;\r\n        case 27:\r\n          if (this.results_showing) {\r\n            this.results_hide();\r\n          }\r\n          return true;\r\n        case 9:\r\n        case 38:\r\n        case 40:\r\n        case 16:\r\n        case 91:\r\n        case 17:\r\n          break;\r\n        default:\r\n          return this.results_search();\r\n      }\r\n    };\r\n\r\n    AbstractChosen.prototype.clipboard_event_checker = function(evt) {\r\n      var _this = this;\r\n      return setTimeout((function() {\r\n        return _this.results_search();\r\n      }), 50);\r\n    };\r\n\r\n    AbstractChosen.prototype.container_width = function() {\r\n      if (this.options.width != null) {\r\n        return this.options.width;\r\n      } else {\r\n        return \"\" + this.form_field.offsetWidth + \"px\";\r\n      }\r\n    };\r\n\r\n    AbstractChosen.prototype.include_option_in_results = function(option) {\r\n      if (this.is_multiple && (!this.display_selected_options && option.selected)) {\r\n        return false;\r\n      }\r\n      if (!this.display_disabled_options && option.disabled) {\r\n        return false;\r\n      }\r\n      if (option.empty) {\r\n        return false;\r\n      }\r\n      return true;\r\n    };\r\n\r\n    AbstractChosen.prototype.search_results_touchstart = function(evt) {\r\n      this.touch_started = true;\r\n      return this.search_results_mouseover(evt);\r\n    };\r\n\r\n    AbstractChosen.prototype.search_results_touchmove = function(evt) {\r\n      this.touch_started = false;\r\n      return this.search_results_mouseout(evt);\r\n    };\r\n\r\n    AbstractChosen.prototype.search_results_touchend = function(evt) {\r\n      if (this.touch_started) {\r\n        return this.search_results_mouseup(evt);\r\n      }\r\n    };\r\n\r\n    AbstractChosen.prototype.outerHTML = function(element) {\r\n      var tmp;\r\n      if (element.outerHTML) {\r\n        return element.outerHTML;\r\n      }\r\n      tmp = document.createElement(\"div\");\r\n      tmp.appendChild(element);\r\n      return tmp.innerHTML;\r\n    };\r\n\r\n    AbstractChosen.browser_is_supported = function() {\r\n      if (window.navigator.appName === \"Microsoft Internet Explorer\") {\r\n        return document.documentMode >= 8;\r\n      }\r\n      if (/iP(od|hone)/i.test(window.navigator.userAgent)) {\r\n        return false;\r\n      }\r\n      if (/Android/i.test(window.navigator.userAgent)) {\r\n        if (/Mobile/i.test(window.navigator.userAgent)) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n\r\n    AbstractChosen.default_multiple_text = \"Select Some Options\";\r\n\r\n    AbstractChosen.default_single_text = \"Select an Option\";\r\n\r\n    AbstractChosen.default_no_result_text = \"No results match\";\r\n\r\n    return AbstractChosen;\r\n\r\n  })();\r\n\r\n  $ = jQuery;\r\n\r\n  $.fn.extend({\r\n    chosen: function(options) {\r\n      if (!AbstractChosen.browser_is_supported()) {\r\n        return this;\r\n      }\r\n      return this.each(function(input_field) {\r\n        var $this, chosen;\r\n        $this = $(this);\r\n        chosen = $this.data('chosen');\r\n        if (options === 'destroy' && chosen instanceof Chosen) {\r\n          chosen.destroy();\r\n        } else if (!(chosen instanceof Chosen)) {\r\n          $this.data('chosen', new Chosen(this, options));\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  Chosen = (function(_super) {\r\n    __extends(Chosen, _super);\r\n\r\n    function Chosen() {\r\n      _ref = Chosen.__super__.constructor.apply(this, arguments);\r\n      return _ref;\r\n    }\r\n\r\n    Chosen.prototype.setup = function() {\r\n      this.form_field_jq = $(this.form_field);\r\n      this.current_selectedIndex = this.form_field.selectedIndex;\r\n      return this.is_rtl = this.form_field_jq.hasClass(\"chosen-rtl\");\r\n    };\r\n\r\n    Chosen.prototype.set_up_html = function() {\r\n      var container_classes, container_props;\r\n      container_classes = [\"chosen-container\"];\r\n      container_classes.push(\"chosen-container-\" + (this.is_multiple ? \"multi\" : \"single\"));\r\n      if (this.inherit_select_classes && this.form_field.className) {\r\n        container_classes.push(this.form_field.className);\r\n      }\r\n      if (this.is_rtl) {\r\n        container_classes.push(\"chosen-rtl\");\r\n      }\r\n      container_props = {\r\n        'class': container_classes.join(' '),\r\n        'style': \"width: \" + (this.container_width()) + \";\",\r\n        'title': this.form_field.title\r\n      };\r\n      if (this.form_field.id.length) {\r\n        container_props.id = this.form_field.id.replace(/[^\\w]/g, '_') + \"_chosen\";\r\n      }\r\n      this.container = $(\"<div />\", container_props);\r\n      if (this.is_multiple) {\r\n        this.container.html('<ul class=\"chosen-choices\"><li class=\"search-field\"><input type=\"text\" value=\"' + this.default_text + '\" class=\"default\" autocomplete=\"off\" style=\"width:25px;\" /></li></ul><div class=\"chosen-drop\"><ul class=\"chosen-results\"></ul></div>');\r\n      } else {\r\n        this.container.html('<a class=\"chosen-single chosen-default\" tabindex=\"-1\"><span>' + this.default_text + '</span><div><b></b></div></a><div class=\"chosen-drop\"><div class=\"chosen-search\"><input type=\"text\" autocomplete=\"off\" /></div><ul class=\"chosen-results\"></ul></div>');\r\n      }\r\n      this.form_field_jq.hide().after(this.container);\r\n      this.dropdown = this.container.find('div.chosen-drop').first();\r\n      this.search_field = this.container.find('input').first();\r\n      this.search_results = this.container.find('ul.chosen-results').first();\r\n      this.search_field_scale();\r\n      this.search_no_results = this.container.find('li.no-results').first();\r\n      if (this.is_multiple) {\r\n        this.search_choices = this.container.find('ul.chosen-choices').first();\r\n        this.search_container = this.container.find('li.search-field').first();\r\n      } else {\r\n        this.search_container = this.container.find('div.chosen-search').first();\r\n        this.selected_item = this.container.find('.chosen-single').first();\r\n      }\r\n      this.results_build();\r\n      this.set_tab_index();\r\n      this.set_label_behavior();\r\n      return this.form_field_jq.trigger(\"chosen:ready\", {\r\n        chosen: this\r\n      });\r\n    };\r\n\r\n    Chosen.prototype.register_observers = function() {\r\n      var _this = this;\r\n      this.container.bind('touchstart.chosen', function(evt) {\r\n        _this.container_mousedown(evt);\r\n      });\r\n      this.container.bind('touchend.chosen', function(evt) {\r\n        _this.container_mouseup(evt);\r\n      });\r\n      this.container.bind('mousedown.chosen', function(evt) {\r\n        _this.container_mousedown(evt);\r\n      });\r\n      this.container.bind('mouseup.chosen', function(evt) {\r\n        _this.container_mouseup(evt);\r\n      });\r\n      this.container.bind('mouseenter.chosen', function(evt) {\r\n        _this.mouse_enter(evt);\r\n      });\r\n      this.container.bind('mouseleave.chosen', function(evt) {\r\n        _this.mouse_leave(evt);\r\n      });\r\n      this.search_results.bind('mouseup.chosen', function(evt) {\r\n        _this.search_results_mouseup(evt);\r\n      });\r\n      this.search_results.bind('mouseover.chosen', function(evt) {\r\n        _this.search_results_mouseover(evt);\r\n      });\r\n      this.search_results.bind('mouseout.chosen', function(evt) {\r\n        _this.search_results_mouseout(evt);\r\n      });\r\n      this.search_results.bind('mousewheel.chosen DOMMouseScroll.chosen', function(evt) {\r\n        _this.search_results_mousewheel(evt);\r\n      });\r\n      this.search_results.bind('touchstart.chosen', function(evt) {\r\n        _this.search_results_touchstart(evt);\r\n      });\r\n      this.search_results.bind('touchmove.chosen', function(evt) {\r\n        _this.search_results_touchmove(evt);\r\n      });\r\n      this.search_results.bind('touchend.chosen', function(evt) {\r\n        _this.search_results_touchend(evt);\r\n      });\r\n      this.form_field_jq.bind(\"chosen:updated.chosen\", function(evt) {\r\n        _this.results_update_field(evt);\r\n      });\r\n      this.form_field_jq.bind(\"chosen:activate.chosen\", function(evt) {\r\n        _this.activate_field(evt);\r\n      });\r\n      this.form_field_jq.bind(\"chosen:open.chosen\", function(evt) {\r\n        _this.container_mousedown(evt);\r\n      });\r\n      this.form_field_jq.bind(\"chosen:close.chosen\", function(evt) {\r\n        _this.input_blur(evt);\r\n      });\r\n      this.search_field.bind('blur.chosen', function(evt) {\r\n        _this.input_blur(evt);\r\n      });\r\n      this.search_field.bind('keyup.chosen', function(evt) {\r\n        _this.keyup_checker(evt);\r\n      });\r\n      this.search_field.bind('keydown.chosen', function(evt) {\r\n        _this.keydown_checker(evt);\r\n      });\r\n      this.search_field.bind('focus.chosen', function(evt) {\r\n        _this.input_focus(evt);\r\n      });\r\n      this.search_field.bind('cut.chosen', function(evt) {\r\n        _this.clipboard_event_checker(evt);\r\n      });\r\n      this.search_field.bind('paste.chosen', function(evt) {\r\n        _this.clipboard_event_checker(evt);\r\n      });\r\n      if (this.is_multiple) {\r\n        return this.search_choices.bind('click.chosen', function(evt) {\r\n          _this.choices_click(evt);\r\n        });\r\n      } else {\r\n        return this.container.bind('click.chosen', function(evt) {\r\n          evt.preventDefault();\r\n        });\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.destroy = function() {\r\n      $(this.container[0].ownerDocument).unbind(\"click.chosen\", this.click_test_action);\r\n      if (this.search_field[0].tabIndex) {\r\n        this.form_field_jq[0].tabIndex = this.search_field[0].tabIndex;\r\n      }\r\n      this.container.remove();\r\n      this.form_field_jq.removeData('chosen');\r\n      return this.form_field_jq.show();\r\n    };\r\n\r\n    Chosen.prototype.search_field_disabled = function() {\r\n      this.is_disabled = this.form_field_jq[0].disabled;\r\n      if (this.is_disabled) {\r\n        this.container.addClass('chosen-disabled');\r\n        this.search_field[0].disabled = true;\r\n        if (!this.is_multiple) {\r\n          this.selected_item.unbind(\"focus.chosen\", this.activate_action);\r\n        }\r\n        return this.close_field();\r\n      } else {\r\n        this.container.removeClass('chosen-disabled');\r\n        this.search_field[0].disabled = false;\r\n        if (!this.is_multiple) {\r\n          return this.selected_item.bind(\"focus.chosen\", this.activate_action);\r\n        }\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.container_mousedown = function(evt) {\r\n      if (!this.is_disabled) {\r\n        if (evt && evt.type === \"mousedown\" && !this.results_showing) {\r\n          evt.preventDefault();\r\n        }\r\n        if (!((evt != null) && ($(evt.target)).hasClass(\"search-choice-close\"))) {\r\n          if (!this.active_field) {\r\n            if (this.is_multiple) {\r\n              this.search_field.val(\"\");\r\n            }\r\n            $(this.container[0].ownerDocument).bind('click.chosen', this.click_test_action);\r\n            this.results_show();\r\n          } else if (!this.is_multiple && evt && (($(evt.target)[0] === this.selected_item[0]) || $(evt.target).parents(\"a.chosen-single\").length)) {\r\n            evt.preventDefault();\r\n            this.results_toggle();\r\n          }\r\n          return this.activate_field();\r\n        }\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.container_mouseup = function(evt) {\r\n      if (evt.target.nodeName === \"ABBR\" && !this.is_disabled) {\r\n        return this.results_reset(evt);\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.search_results_mousewheel = function(evt) {\r\n      var delta;\r\n      if (evt.originalEvent) {\r\n        delta = evt.originalEvent.deltaY || -evt.originalEvent.wheelDelta || evt.originalEvent.detail;\r\n      }\r\n      if (delta != null) {\r\n        evt.preventDefault();\r\n        if (evt.type === 'DOMMouseScroll') {\r\n          delta = delta * 40;\r\n        }\r\n        return this.search_results.scrollTop(delta + this.search_results.scrollTop());\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.blur_test = function(evt) {\r\n      if (!this.active_field && this.container.hasClass(\"chosen-container-active\")) {\r\n        return this.close_field();\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.close_field = function() {\r\n      $(this.container[0].ownerDocument).unbind(\"click.chosen\", this.click_test_action);\r\n      this.active_field = false;\r\n      this.results_hide();\r\n      this.container.removeClass(\"chosen-container-active\");\r\n      this.clear_backstroke();\r\n      this.show_search_field_default();\r\n      return this.search_field_scale();\r\n    };\r\n\r\n    Chosen.prototype.activate_field = function() {\r\n      this.container.addClass(\"chosen-container-active\");\r\n      this.active_field = true;\r\n      this.search_field.val(this.search_field.val());\r\n      return this.search_field.focus();\r\n    };\r\n\r\n    Chosen.prototype.test_active_click = function(evt) {\r\n      var active_container;\r\n      active_container = $(evt.target).closest('.chosen-container');\r\n      if (active_container.length && this.container[0] === active_container[0]) {\r\n        return this.active_field = true;\r\n      } else {\r\n        return this.close_field();\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.results_build = function() {\r\n      this.parsing = true;\r\n      this.selected_option_count = null;\r\n      this.results_data = SelectParser.select_to_array(this.form_field);\r\n      if (this.is_multiple) {\r\n        this.search_choices.find(\"li.search-choice\").remove();\r\n      } else if (!this.is_multiple) {\r\n        this.single_set_selected_text();\r\n        if (this.disable_search || this.form_field.options.length <= this.disable_search_threshold) {\r\n          this.search_field[0].readOnly = true;\r\n          this.container.addClass(\"chosen-container-single-nosearch\");\r\n        } else {\r\n          this.search_field[0].readOnly = false;\r\n          this.container.removeClass(\"chosen-container-single-nosearch\");\r\n        }\r\n      }\r\n      this.update_results_content(this.results_option_build({\r\n        first: true\r\n      }));\r\n      this.search_field_disabled();\r\n      this.show_search_field_default();\r\n      this.search_field_scale();\r\n      return this.parsing = false;\r\n    };\r\n\r\n    Chosen.prototype.result_do_highlight = function(el) {\r\n      var high_bottom, high_top, maxHeight, visible_bottom, visible_top;\r\n      if (el.length) {\r\n        this.result_clear_highlight();\r\n        this.result_highlight = el;\r\n        this.result_highlight.addClass(\"highlighted\");\r\n        maxHeight = parseInt(this.search_results.css(\"maxHeight\"), 10);\r\n        visible_top = this.search_results.scrollTop();\r\n        visible_bottom = maxHeight + visible_top;\r\n        high_top = this.result_highlight.position().top + this.search_results.scrollTop();\r\n        high_bottom = high_top + this.result_highlight.outerHeight();\r\n        if (high_bottom >= visible_bottom) {\r\n          return this.search_results.scrollTop((high_bottom - maxHeight) > 0 ? high_bottom - maxHeight : 0);\r\n        } else if (high_top < visible_top) {\r\n          return this.search_results.scrollTop(high_top);\r\n        }\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.result_clear_highlight = function() {\r\n      if (this.result_highlight) {\r\n        this.result_highlight.removeClass(\"highlighted\");\r\n      }\r\n      return this.result_highlight = null;\r\n    };\r\n\r\n    Chosen.prototype.results_show = function() {\r\n      if (this.is_multiple && this.max_selected_options <= this.choices_count()) {\r\n        this.form_field_jq.trigger(\"chosen:maxselected\", {\r\n          chosen: this\r\n        });\r\n        return false;\r\n      }\r\n      this.container.addClass(\"chosen-with-drop\");\r\n      this.results_showing = true;\r\n      this.search_field.focus();\r\n      this.search_field.val(this.search_field.val());\r\n      this.winnow_results();\r\n      return this.form_field_jq.trigger(\"chosen:showing_dropdown\", {\r\n        chosen: this\r\n      });\r\n    };\r\n\r\n    Chosen.prototype.update_results_content = function(content) {\r\n      return this.search_results.html(content);\r\n    };\r\n\r\n    Chosen.prototype.results_hide = function() {\r\n      if (this.results_showing) {\r\n        this.result_clear_highlight();\r\n        this.container.removeClass(\"chosen-with-drop\");\r\n        this.form_field_jq.trigger(\"chosen:hiding_dropdown\", {\r\n          chosen: this\r\n        });\r\n      }\r\n      return this.results_showing = false;\r\n    };\r\n\r\n    Chosen.prototype.set_tab_index = function(el) {\r\n      var ti;\r\n      if (this.form_field.tabIndex) {\r\n        ti = this.form_field.tabIndex;\r\n        this.form_field.tabIndex = -1;\r\n        return this.search_field[0].tabIndex = ti;\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.set_label_behavior = function() {\r\n      var _this = this;\r\n      this.form_field_label = this.form_field_jq.parents(\"label\");\r\n      if (!this.form_field_label.length && this.form_field.id.length) {\r\n        this.form_field_label = $(\"label[for='\" + this.form_field.id + \"']\");\r\n      }\r\n      if (this.form_field_label.length > 0) {\r\n        return this.form_field_label.bind('click.chosen', function(evt) {\r\n          if (_this.is_multiple) {\r\n            return _this.container_mousedown(evt);\r\n          } else {\r\n            return _this.activate_field();\r\n          }\r\n        });\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.show_search_field_default = function() {\r\n      if (this.is_multiple && this.choices_count() < 1 && !this.active_field) {\r\n        this.search_field.val(this.default_text);\r\n        return this.search_field.addClass(\"default\");\r\n      } else {\r\n        this.search_field.val(\"\");\r\n        return this.search_field.removeClass(\"default\");\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.search_results_mouseup = function(evt) {\r\n      var target;\r\n      target = $(evt.target).hasClass(\"active-result\") ? $(evt.target) : $(evt.target).parents(\".active-result\").first();\r\n      if (target.length) {\r\n        this.result_highlight = target;\r\n        this.result_select(evt);\r\n        return this.search_field.focus();\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.search_results_mouseover = function(evt) {\r\n      var target;\r\n      target = $(evt.target).hasClass(\"active-result\") ? $(evt.target) : $(evt.target).parents(\".active-result\").first();\r\n      if (target) {\r\n        return this.result_do_highlight(target);\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.search_results_mouseout = function(evt) {\r\n      if ($(evt.target).hasClass(\"active-result\" || $(evt.target).parents('.active-result').first())) {\r\n        return this.result_clear_highlight();\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.choice_build = function(item) {\r\n      var choice, close_link,\r\n        _this = this;\r\n      choice = $('<li />', {\r\n        \"class\": \"search-choice\"\r\n      }).html(\"<span>\" + item.html + \"</span>\");\r\n      if (item.disabled) {\r\n        choice.addClass('search-choice-disabled');\r\n      } else {\r\n        close_link = $('<a />', {\r\n          \"class\": 'search-choice-close',\r\n          'data-option-array-index': item.array_index\r\n        });\r\n        close_link.bind('click.chosen', function(evt) {\r\n          return _this.choice_destroy_link_click(evt);\r\n        });\r\n        choice.append(close_link);\r\n      }\r\n      return this.search_container.before(choice);\r\n    };\r\n\r\n    Chosen.prototype.choice_destroy_link_click = function(evt) {\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n      if (!this.is_disabled) {\r\n        return this.choice_destroy($(evt.target));\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.choice_destroy = function(link) {\r\n      if (this.result_deselect(link[0].getAttribute(\"data-option-array-index\"))) {\r\n        this.show_search_field_default();\r\n        if (this.is_multiple && this.choices_count() > 0 && this.search_field.val().length < 1) {\r\n          this.results_hide();\r\n        }\r\n        link.parents('li').first().remove();\r\n        return this.search_field_scale();\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.results_reset = function() {\r\n      this.reset_single_select_options();\r\n      this.form_field.options[0].selected = true;\r\n      this.single_set_selected_text();\r\n      this.show_search_field_default();\r\n      this.results_reset_cleanup();\r\n      this.form_field_jq.trigger(\"change\");\r\n      if (this.active_field) {\r\n        return this.results_hide();\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.results_reset_cleanup = function() {\r\n      this.current_selectedIndex = this.form_field.selectedIndex;\r\n      return this.selected_item.find(\"abbr\").remove();\r\n    };\r\n\r\n    Chosen.prototype.result_select = function(evt) {\r\n      var high, item;\r\n      if (this.result_highlight) {\r\n        high = this.result_highlight;\r\n        this.result_clear_highlight();\r\n        if (this.is_multiple && this.max_selected_options <= this.choices_count()) {\r\n          this.form_field_jq.trigger(\"chosen:maxselected\", {\r\n            chosen: this\r\n          });\r\n          return false;\r\n        }\r\n        if (this.is_multiple) {\r\n          high.removeClass(\"active-result\");\r\n        } else {\r\n          this.reset_single_select_options();\r\n        }\r\n        item = this.results_data[high[0].getAttribute(\"data-option-array-index\")];\r\n        item.selected = true;\r\n        this.form_field.options[item.options_index].selected = true;\r\n        this.selected_option_count = null;\r\n        if (this.is_multiple) {\r\n          this.choice_build(item);\r\n        } else {\r\n          this.single_set_selected_text(item.text);\r\n        }\r\n        if (!((evt.metaKey || evt.ctrlKey) && this.is_multiple)) {\r\n          this.results_hide();\r\n        }\r\n        this.search_field.val(\"\");\r\n        if (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) {\r\n          this.form_field_jq.trigger(\"change\", {\r\n            'selected': this.form_field.options[item.options_index].value\r\n          });\r\n        }\r\n        this.current_selectedIndex = this.form_field.selectedIndex;\r\n        return this.search_field_scale();\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.single_set_selected_text = function(text) {\r\n      if (text == null) {\r\n        text = this.default_text;\r\n      }\r\n      if (text === this.default_text) {\r\n        this.selected_item.addClass(\"chosen-default\");\r\n      } else {\r\n        this.single_deselect_control_build();\r\n        this.selected_item.removeClass(\"chosen-default\");\r\n      }\r\n      return this.selected_item.find(\"span\").text(text);\r\n    };\r\n\r\n    Chosen.prototype.result_deselect = function(pos) {\r\n      var result_data;\r\n      result_data = this.results_data[pos];\r\n      if (!this.form_field.options[result_data.options_index].disabled) {\r\n        result_data.selected = false;\r\n        this.form_field.options[result_data.options_index].selected = false;\r\n        this.selected_option_count = null;\r\n        this.result_clear_highlight();\r\n        if (this.results_showing) {\r\n          this.winnow_results();\r\n        }\r\n        this.form_field_jq.trigger(\"change\", {\r\n          deselected: this.form_field.options[result_data.options_index].value\r\n        });\r\n        this.search_field_scale();\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.single_deselect_control_build = function() {\r\n      if (!this.allow_single_deselect) {\r\n        return;\r\n      }\r\n      if (!this.selected_item.find(\"abbr\").length) {\r\n        this.selected_item.find(\"span\").first().after(\"<abbr class=\\\"search-choice-close\\\"></abbr>\");\r\n      }\r\n      return this.selected_item.addClass(\"chosen-single-with-deselect\");\r\n    };\r\n\r\n    Chosen.prototype.get_search_text = function() {\r\n      if (this.search_field.val() === this.default_text) {\r\n        return \"\";\r\n      } else {\r\n        return $('<div/>').text($.trim(this.search_field.val())).html();\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.winnow_results_set_highlight = function() {\r\n      var do_high, selected_results;\r\n      selected_results = !this.is_multiple ? this.search_results.find(\".result-selected.active-result\") : [];\r\n      do_high = selected_results.length ? selected_results.first() : this.search_results.find(\".active-result\").first();\r\n      if (do_high != null) {\r\n        return this.result_do_highlight(do_high);\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.no_results = function(terms) {\r\n      var no_results_html;\r\n      no_results_html = $('<li class=\"no-results\">' + this.results_none_found + ' \"<span></span>\"</li>');\r\n      no_results_html.find(\"span\").first().html(terms);\r\n      this.search_results.append(no_results_html);\r\n      return this.form_field_jq.trigger(\"chosen:no_results\", {\r\n        chosen: this\r\n      });\r\n    };\r\n\r\n    Chosen.prototype.no_results_clear = function() {\r\n      return this.search_results.find(\".no-results\").remove();\r\n    };\r\n\r\n    Chosen.prototype.keydown_arrow = function() {\r\n      var next_sib;\r\n      if (this.results_showing && this.result_highlight) {\r\n        next_sib = this.result_highlight.nextAll(\"li.active-result\").first();\r\n        if (next_sib) {\r\n          return this.result_do_highlight(next_sib);\r\n        }\r\n      } else {\r\n        return this.results_show();\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.keyup_arrow = function() {\r\n      var prev_sibs;\r\n      if (!this.results_showing && !this.is_multiple) {\r\n        return this.results_show();\r\n      } else if (this.result_highlight) {\r\n        prev_sibs = this.result_highlight.prevAll(\"li.active-result\");\r\n        if (prev_sibs.length) {\r\n          return this.result_do_highlight(prev_sibs.first());\r\n        } else {\r\n          if (this.choices_count() > 0) {\r\n            this.results_hide();\r\n          }\r\n          return this.result_clear_highlight();\r\n        }\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.keydown_backstroke = function() {\r\n      var next_available_destroy;\r\n      if (this.pending_backstroke) {\r\n        this.choice_destroy(this.pending_backstroke.find(\"a\").first());\r\n        return this.clear_backstroke();\r\n      } else {\r\n        next_available_destroy = this.search_container.siblings(\"li.search-choice\").last();\r\n        if (next_available_destroy.length && !next_available_destroy.hasClass(\"search-choice-disabled\")) {\r\n          this.pending_backstroke = next_available_destroy;\r\n          if (this.single_backstroke_delete) {\r\n            return this.keydown_backstroke();\r\n          } else {\r\n            return this.pending_backstroke.addClass(\"search-choice-focus\");\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.clear_backstroke = function() {\r\n      if (this.pending_backstroke) {\r\n        this.pending_backstroke.removeClass(\"search-choice-focus\");\r\n      }\r\n      return this.pending_backstroke = null;\r\n    };\r\n\r\n    Chosen.prototype.keydown_checker = function(evt) {\r\n      var stroke, _ref1;\r\n      stroke = (_ref1 = evt.which) != null ? _ref1 : evt.keyCode;\r\n      this.search_field_scale();\r\n      if (stroke !== 8 && this.pending_backstroke) {\r\n        this.clear_backstroke();\r\n      }\r\n      switch (stroke) {\r\n        case 8:\r\n          this.backstroke_length = this.search_field.val().length;\r\n          break;\r\n        case 9:\r\n          if (this.results_showing && !this.is_multiple) {\r\n            this.result_select(evt);\r\n          }\r\n          this.mouse_on_container = false;\r\n          break;\r\n        case 13:\r\n          if (this.results_showing) {\r\n            evt.preventDefault();\r\n          }\r\n          break;\r\n        case 32:\r\n          if (this.disable_search) {\r\n            evt.preventDefault();\r\n          }\r\n          break;\r\n        case 38:\r\n          evt.preventDefault();\r\n          this.keyup_arrow();\r\n          break;\r\n        case 40:\r\n          evt.preventDefault();\r\n          this.keydown_arrow();\r\n          break;\r\n      }\r\n    };\r\n\r\n    Chosen.prototype.search_field_scale = function() {\r\n      var div, f_width, h, style, style_block, styles, w, _i, _len;\r\n      if (this.is_multiple) {\r\n        h = 0;\r\n        w = 0;\r\n        style_block = \"position:absolute; left: -1000px; top: -1000px; display:none;\";\r\n        styles = ['font-size', 'font-style', 'font-weight', 'font-family', 'line-height', 'text-transform', 'letter-spacing'];\r\n        for (_i = 0, _len = styles.length; _i < _len; _i++) {\r\n          style = styles[_i];\r\n          style_block += style + \":\" + this.search_field.css(style) + \";\";\r\n        }\r\n        div = $('<div />', {\r\n          'style': style_block\r\n        });\r\n        div.text(this.search_field.val());\r\n        $('body').append(div);\r\n        w = div.width() + 25;\r\n        div.remove();\r\n        f_width = this.container.outerWidth();\r\n        if (w > f_width - 10) {\r\n          w = f_width - 10;\r\n        }\r\n        return this.search_field.css({\r\n          'width': w + 'px'\r\n        });\r\n      }\r\n    };\r\n\r\n    return Chosen;\r\n\r\n  })(AbstractChosen);\r\n\r\n}).call(this);\r\n"]}