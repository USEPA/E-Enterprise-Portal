!function(a){var b,c=STI.namespace("VillageGreen"),d=c.VillageGreenDAL,e=60,f={N:"North",S:"South",E:"East",W:"West",NE:"Northeast",SE:"Southeast",NW:"Northwest",SW:"Southwest","":""},g={initializeMap:function(){var b=document.getElementById("map_canvas"),c=new google.maps.LatLng(a("#siteLat").val(),a("#siteLon").val()),d={center:c,zoom:17,mapTypeId:google.maps.MapTypeId.SATELLITE},e=new google.maps.Marker({position:c,title:a("#citiesMenu").text()}),f=new google.maps.Map(b,d);e.setMap(f)},getWindDirection:function(a){return a<=360&&a>=348.75||a>=0&&a<=33.75?"N":a>33.75&&a<=78.75?"NE":a>78.75&&a<=123.75?"E":a>123.75&&a<=168.75?"SE":a>168.75&&a<=213.75?"S":a>213.75&&a<=258.75?"SW":a>258.75&&a<=303.75?"W":a>303.75&&a<=348.75?"NW":""},renderCurrentDataTable:function(b){a(".curPMReading").html(b.curPmValue),a(".curOzoneReading").html(b.curOzoneValue),a(".curWSReading").html(b.curWSValue),a(".curHumidReading").html(b.curHumValue),a(".curTempReading").html(b.curTempValue);var c=g.getWindDirection(b.curWDValue);a(".curWDReading").html(c),a(".curWDReading").attr("data-original-title",f[c]);var d=b.currentDateTime;d=d+" "+b.timezone,a(".currentObsDate").html(d)},checkIfImageExists:function(b){var c=new Image;c.onload=function(){a("#topRow").backstretch(VG.config.baseUrl+"/images/site_banners/"+a("#currentFullAQS").val()+".jpg")},c.onerror=function(){a("#topRow").backstretch(VG.config.baseUrl+"/images/site_backgrounds/0.jpg")},c.src=b},setIntervalTimerForCurrentData:function(){window.clearInterval(b),b=setInterval(function(){e-=1,0===e&&d.getDataForCurrentMinuteWelcomePage(a("#currentSiteID").val(),function(a){g.renderCurrentDataTable(a.responseJSON)});1==e?a(".countdownContainer").html(e+" second"):a(".countdownContainer").html(e+" seconds"),e<=0&&(e=60)},1e3)}};a(document).ready(function(){a("#currentSiteID").on("change",function(b){var c=a("#currentSiteID").val();a("a.village-green-external-link").attr("href","http://villagegreen.airnowtech.org/welcome?siteID="+c).text("View more data for "+a("#currentSiteID option:selected").text()),d.getDataForCurrentMinuteWelcomePage(c,function(a){g.renderCurrentDataTable(a.responseJSON)}),g.setIntervalTimerForCurrentData(),e=61}),a("#currentSiteID").trigger("change")})}(jQuery);
//# sourceMappingURL=src/welcome.js.map