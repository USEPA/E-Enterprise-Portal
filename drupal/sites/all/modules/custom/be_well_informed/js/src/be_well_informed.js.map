{"version":3,"sources":["be_well_informed.js"],"names":["showElementOutOfMany","$wrapper_to_show","$common_selector","hide","show","resizeModal","jQuery","dialog","position","my","at","css","replace","checkValues","previous","current","cIndex","keys","previousKeys","Object","indexOf","Value","reduce","length","resetBWIForm","$form","$","parsley","reset","find","val","prop","toggleClass","fn","serializeObject","o","a","this","serializeArray","each","objRoot","name","split","original","newObject","property","value","extend","toggleSection","$this","sampleData","sampleSetIndex","sample","sampleSet","CityName","RoutineContaminants","As","Symbol","Name","Unit","Cl","Cu","CuSt","Fl","Har","Fe","Pb","PbSt","Mn","NO3","NO2","pH","Na","BacterialContaminants","Bac","Ecoli","Bac_G","Ecoli_G","RadionuclideContaminants","Rn","Ur","AGA","InteractivePromptResponses","0","InteractionIdentifier","1","cat","field","selector","html","Drupal","settings","be_well_informed","modal","width","title","dialogClass","autoOpen","draggable","resizable","create","event","ui","tabs","inputs","Parsley","options","on","ok","click","window","resize","close","dataTable","bDestroy","fnDestroy","remove","removeClass","addClass","validate","$loading_wrapper","$results_wrapper","$form_wrapper","$all_wrappers","formData","data","text","ajax","url","method","success","be_well_response_json","error","InteractivePrompts","AdditionalContaminantRequests","$interactive_prompts","map","item","index","prompts","interaction_string","Interaction","$item","exists","$prompt","attr","appendTo","$inputs","e","not","currentTarget","prependTo","$column","ResultEvaluations","default_datatable_result_details_options","dom","bLengthChange","bAutoWidth","bSort","columnDefs","className","targets","createdRow","row","dataIndex","result_summary","paging","default_datatable_result_summary_options","$table","DataTable","result","row_index","titles","result_details","detail_obj","data_array","i","after","TreatmentSteps","contaminants","excluded","contaminate","GuidelineColor","push","ContaminantFullName","last","pop","join","step_label","toShow","step","$treatment","eq","OrInstructions","list","Recommendation","cssClass","SystemType","toLowerCase","prev","parents","slideToggle","destroy","animate","scrollTop","offset","top"],"mappings":"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","file":"be_well_informed.js","sourcesContent":["function showElementOutOfMany($wrapper_to_show, $common_selector) {\n  $common_selector.hide();\n  $wrapper_to_show.show();\n  resizeModal()\n}\n\njQuery.fn.serializeObject = function() {\n  var o = {};\n  var a = this.serializeArray();\n  jQuery.each(a, function() {\n    objRoot = this.name.replace(/]/g, '')\n      .split(/\\[/g)\n      .reduce(function(previous, current, cIndex, original) {\n        var newObject = {}\n        var property = original[original.length - 1 - cIndex]\n        newObject[property] = previous\n        return newObject;\n      }, this.value);\n\n    jQuery.extend(true, o, objRoot);\n  });\n  return o;\n};\n\ntoggleSection = function() {\n  var $this = $(this);\n  var $arrow = $(this).find('i');\n\n  $this.toggleClass('open close')\n  // Reset all other arrows to right (default)\n  /*$('.ui-accordion-header').not($(this)).find('i').removeClass('fa-caret-down').addClass('fa-caret-right');\n   if ($arrow.hasClass(\"fa-caret-right\")) {\n   $arrow.removeClass('fa-caret-right').addClass('fa-caret-down');\n   } else {\n   $arrow.removeClass('fa-caret-down').addClass('fa-caret-right');\n   }*/\n  resizeModal()\n}\n\nfunction resizeModal() {\n  jQuery('#be-well-informed-modal').dialog({\n    position: { 'my': 'center', 'at': 'center' }\n  });\n  if(jQuery('.be-well-informed-modal').css('top').replace('px', '') < 1){\n    jQuery('.be-well-informed-modal').css('top', 0)\n  }\n}\n\nfunction checkValues(previous, current, cIndex, keys) {\n  var previousKeys = [];\n  if(typeof previous[keys[cIndex]] == 'object'){\n    previousKeys = Object.keys(previous[keys[cIndex]])\n  }\n\n  if ((previousKeys.indexOf('Value') > -1 && previous[keys[cIndex]].Value == \"\")) {\n    delete previous[keys[cIndex]];\n  }\n  else if (['object'].indexOf(typeof previous[keys[cIndex]]) > -1) {\n    previous[keys[cIndex]] = previousKeys.reduce(checkValues, previous[keys[cIndex]])\n    if (Object.keys(previous[keys[cIndex]]).length == 0) {\n      delete previous[keys[cIndex]];\n    }\n  }\n  return previous\n}\n\nvar sampleData = function() {};\n\n/**\n * Clear form inputs and hide warning messages\n */\nfunction resetBWIForm() {\n  var $form = $('#water_analysis_results_form');\n  $form.parsley().reset();\n  $form.find('input[type=number]').val('');\n  $form.find('input[type=radio]').prop('checked', false);\n  $form.find('select option').prop('selected', false);\n  $('.bs-callout-info').toggleClass('hidden', true);\n  $('.bs-callout-warning').toggleClass('hidden', true);\n}\n\n(function($) {\n  var sampleSetIndex = 0;\n  sampleData =  function(sample) {\n    // lets us cycle through different sets of test data\n    if(!sample) {\n      // different handy test cases\n      sampleSet = [\n        {\"CityName\":\"Amherst\",\"RoutineContaminants\":{\"As\":{\"Symbol\":\"As\",\"Name\":\"Arsenic\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Cl\":{\"Symbol\":\"Cl\",\"Name\":\"Chloride\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Cu\":{\"Symbol\":\"Cu\",\"Name\":\"Copper\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"CuSt\":{\"Symbol\":\"CuSt\",\"Name\":\"Copper, Stagnant\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Fl\":{\"Symbol\":\"Fl\",\"Name\":\"Fluoride\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Har\":{\"Symbol\":\"Har\",\"Name\":\"Hardness as CaCO3\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Fe\":{\"Symbol\":\"Fe\",\"Name\":\"Iron\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Pb\":{\"Symbol\":\"Pb\",\"Name\":\"Lead\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"PbSt\":{\"Symbol\":\"PbSt\",\"Name\":\"Lead, Stagnant\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Mn\":{\"Symbol\":\"Mn\",\"Name\":\"Manganese\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"NO3\":{\"Symbol\":\"NO3\",\"Name\":\"Nitrate-N\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"NO2\":{\"Symbol\":\"NO2\",\"Name\":\"Nitrite-N\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"pH\":{\"Symbol\":\"pH\",\"Name\":\"pH\",\"Value\":\"6.1\",\"Unit\":\"units\"},\"Na\":{\"Symbol\":\"Na\",\"Name\":\"Sodium\",\"Value\":\"1234\",\"Unit\":\"mg/L\"}},\"BacterialContaminants\":{\"Bac\":{\"Symbol\":\"Bac\",\"Name\":\"Total Coliform\",\"Value\":\"1234\",\"Unit\":\"CFU/100 mL\"},\"Ecoli\":{\"Symbol\":\"Ecoli\",\"Name\":\"E. Coli\",\"Value\":\"1234\",\"Unit\":\"CFU/100 mL\"}},\"Bac_G\":\"rdb_Bac_True\",\"Ecoli_G\":\"rdb_Ecoli_True\",\"RadionuclideContaminants\":{\"Rn\":{\"Symbol\":\"Rn\",\"Name\":\"Radon\",\"Value\":\"4321\",\"Unit\":\"pCi/L\"},\"Ur\":{\"Symbol\":\"Ur\",\"Name\":\"Uranium\",\"Value\":\"4321\",\"Unit\":\"μg/L\"},\"AGA\":{\"Symbol\":\"AGA\",\"Name\":\"Gross Alpha\",\"Value\":\"4321\",\"Unit\":\"pCi/L\"}},\"InteractivePromptResponses\":{\"0\":{\"InteractionIdentifier\":\"Cl_True\",\"Symbol\":\"Cl\"},\"1\":{\"InteractionIdentifier\":\"Har_True\",\"Symbol\":\"Har\"}}},\n        {\"CityName\":\"Portsmouth\",\"RoutineContaminants\":{\"As\":{\"Symbol\":\"As\",\"Name\":\"Arsenic\",\"Value\":\"45\",\"Unit\":\"mg/L\"},\"Cl\":{\"Symbol\":\"Cl\",\"Name\":\"Chloride\",\"Value\":\"2\",\"Unit\":\"mg/L\"},\"Cu\":{\"Symbol\":\"Cu\",\"Name\":\"Copper\",\"Value\":\"54\",\"Unit\":\"mg/L\"},\"CuSt\":{\"Symbol\":\"CuSt\",\"Name\":\"Copper, Stagnant\",\"Value\":\"5\",\"Unit\":\"mg/L\"},\"Fl\":{\"Symbol\":\"Fl\",\"Name\":\"Fluoride\",\"Value\":\"22\",\"Unit\":\"mg/L\"},\"Har\":{\"Symbol\":\"Har\",\"Name\":\"Hardness as CaCO3\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Fe\":{\"Symbol\":\"Fe\",\"Name\":\"Iron\",\"Value\":\"87\",\"Unit\":\"mg/L\"},\"Pb\":{\"Symbol\":\"Pb\",\"Name\":\"Lead\",\"Value\":\"43\",\"Unit\":\"mg/L\"},\"PbSt\":{\"Symbol\":\"PbSt\",\"Name\":\"Lead, Stagnant\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"Mn\":{\"Symbol\":\"Mn\",\"Name\":\"Manganese\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"NO3\":{\"Symbol\":\"NO3\",\"Name\":\"Nitrate-N\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"NO2\":{\"Symbol\":\"NO2\",\"Name\":\"Nitrite-N\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"pH\":{\"Symbol\":\"pH\",\"Name\":\"pH\",\"Value\":\"6.1\",\"Unit\":\"units\"},\"Na\":{\"Symbol\":\"Na\",\"Name\":\"Sodium\",\"Value\":\"1234\",\"Unit\":\"mg/L\"}},\"BacterialContaminants\":{\"Bac\":{\"Symbol\":\"Bac\",\"Name\":\"Total Coliform\",\"Value\":\"1234\",\"Unit\":\"CFU/100 mL\"},\"Ecoli\":{\"Symbol\":\"Ecoli\",\"Name\":\"E. Coli\",\"Value\":\"1234\",\"Unit\":\"CFU/100 mL\"}},\"Bac_G\":\"rdb_Bac_True\",\"Ecoli_G\":\"rdb_Ecoli_True\",\"RadionuclideContaminants\":{\"Rn\":{\"Symbol\":\"Rn\",\"Name\":\"Radon\",\"Value\":\"4321\",\"Unit\":\"pCi/L\"},\"Ur\":{\"Symbol\":\"Ur\",\"Name\":\"Uranium\",\"Value\":\"4321\",\"Unit\":\"μg/L\"},\"AGA\":{\"Symbol\":\"AGA\",\"Name\":\"Gross Alpha\",\"Value\":\"4321\",\"Unit\":\"pCi/L\"}},\"InteractivePromptResponses\":{\"0\":{\"InteractionIdentifier\":\"Cl_True\",\"Symbol\":\"Cl\"},\"1\":{\"InteractionIdentifier\":\"Har_True\",\"Symbol\":\"Har\"}}},                \n        {\"CityName\":\"Anonymous\",\"RoutineContaminants\":{\"As\":{\"Symbol\":\"As\",\"Name\":\"Arsenic\",\"Value\":\"1\",\"Unit\":\"mg/L\"}}},\n        {\"CityName\":\"Amherst\",\"BacterialContaminants\":{\"Bac\":{\"Symbol\":\"Bac\",\"Name\":\"Total Coliform\",\"Value\":\"1\",\"Unit\":\"CFU/100 mL\"}}},\n        {\"CityName\":\"Anonymous\",\"Bac_G\":\"rdb_Bac_True\"},\n        {\"CityName\":\"Salem\",\"RoutineContaminants\":{\"As\":{\"Symbol\":\"As\",\"Name\":\"Arsenic\",\"Value\":\"11\",\"Unit\":\"mg/L\"},\"Cl\":{\"Symbol\":\"Cl\",\"Name\":\"Chloride\",\"Value\":\"4\",\"Unit\":\"mg/L\"},\"Cu\":{\"Symbol\":\"Cu\",\"Name\":\"Copper\",\"Value\":\"54\",\"Unit\":\"mg/L\"},\"CuSt\":{\"Symbol\":\"CuSt\",\"Name\":\"Copper, Stagnant\",\"Value\":\"5\",\"Unit\":\"mg/L\"},\"Har\":{\"Symbol\":\"Har\",\"Name\":\"Hardness as CaCO3\",\"Value\":\"27\",\"Unit\":\"mg/L\"},\"Fe\":{\"Symbol\":\"Fe\",\"Name\":\"Iron\",\"Value\":\"87\",\"Unit\":\"mg/L\"},\"Pb\":{\"Symbol\":\"Pb\",\"Name\":\"Lead\",\"Value\":\"43\",\"Unit\":\"mg/L\"},\"PbSt\":{\"Symbol\":\"PbSt\",\"Name\":\"Lead, Stagnant\",\"Value\":\"54\",\"Unit\":\"mg/L\"},\"Mn\":{\"Symbol\":\"Mn\",\"Name\":\"Manganese\",\"Value\":\"1234\",\"Unit\":\"mg/L\"},\"pH\":{\"Symbol\":\"pH\",\"Name\":\"pH\",\"Value\":\"6.1\",\"Unit\":\"units\"},\"Na\":{\"Symbol\":\"Na\",\"Name\":\"Sodium\",\"Value\":\"9\",\"Unit\":\"mg/L\"}},\"BacterialContaminants\":{\"Bac\":{\"Symbol\":\"Bac\",\"Name\":\"Total Coliform\",\"Value\":\"5\",\"Unit\":\"CFU/100 mL\"},\"Ecoli\":{\"Symbol\":\"Ecoli\",\"Name\":\"E. Coli\",\"Value\":\"3\",\"Unit\":\"CFU/100 mL\"}},\"Bac_G\":\"rdb_Bac_True\",\"Ecoli_G\":\"rdb_Ecoli_True\",\"RadionuclideContaminants\":{\"Rn\":{\"Symbol\":\"Rn\",\"Name\":\"Radon\",\"Value\":\"56\",\"Unit\":\"pCi/L\"},\"Ur\":{\"Symbol\":\"Ur\",\"Name\":\"Uranium\",\"Value\":\"12\",\"Unit\":\"μg/L\"},\"AGA\":{\"Symbol\":\"AGA\",\"Name\":\"Gross Alpha\",\"Value\":\"98\",\"Unit\":\"pCi/L\"}},\"InteractivePromptResponses\":{\"0\":{\"InteractionIdentifier\":\"Cl_True\",\"Symbol\":\"Cl\"},\"1\":{\"InteractionIdentifier\":\"Har_True\",\"Symbol\":\"Har\"}}},                \n        {\"CityName\":\"Anonymous\",\"BacterialContaminants\":{\"Ecoli\":{\"Symbol\":\"Ecoli\",\"Name\":\"E. Coli\",\"Value\":\"0\",\"Unit\":\"CFU/100 mL\"}}},\n        {\"CityName\":\"Anonymous\",\"RoutineContaminants\":{\"Cl\":{\"Symbol\":\"Cl\",\"Name\":\"Chloride\",\"Value\":\"250\",\"Unit\":\"mg/L\"}}},\n        {\"CityName\":\"Anonymous\",\"RoutineContaminants\":{\"Har\":{\"Symbol\":\"Har\",\"Name\":\"Hardness as CaCO3\",\"Value\":\"150\",\"Unit\":\"mg/L\"}}},\n        {\"CityName\":\"Anonymous\",\"RoutineContaminants\":{\"Fe\":{\"Symbol\":\"Fe\",\"Name\":\"Iron\",\"Value\":\".3\",\"Unit\":\"mg/L\"}}},\n        {\"CityName\":\"Anonymous\",\"RoutineContaminants\":{\"Mn\":{\"Symbol\":\"Mn\",\"Name\":\"Manganese\",\"Value\":\".05\",\"Unit\":\"mg/L\"}}},\n        {\"CityName\":\"Anonymous\",\"RoutineContaminants\":{\"pH\":{\"Symbol\":\"pH\",\"Name\":\"pH\",\"Value\":\"8\",\"Unit\":\"units\"}}},\n        {\"CityName\":\"Anonymous\",\"RadionuclideContaminants\":{\"AGA\":{\"Symbol\":\"AGA\",\"Name\":\"Gross Alpha\",\"Value\":\"15\",\"Unit\":\"pCi/L\"}}}\n      ]\n      sample = sampleSet[sampleSetIndex]\n      sampleSetIndex = ++sampleSetIndex % sampleSet.length\n    }\n\n    resetBWIForm();\n\n    for(var cat in sample){\n      if(typeof sample[cat] == 'object'){\n        for(var field in sample[cat]){\n          if(typeof sample[cat][field] == 'object') {\n            for(var prop in sample[cat][field]){\n              var selector = '[name=\"' + cat + '[' + field + '][' + prop + ']\"]';\n              $(selector).val(sample[cat][field][prop]);\n            }\n          }\n        }\n      }\n      else {\n        var selector = '[name=\"' + cat + '\"]';\n        $(selector+'[type=radio][value=\"'+sample[cat]+'\"]').prop('checked', true)\n        $('select'+selector).val(sample[cat])\n      }\n    }\n  }\n\n  $('#be-well-informed-modal')\n    .html(Drupal.settings.be_well_informed.modal)\n    .dialog({\n      modal: true,\n      width: \"auto\",\n      title: \"Be Well Informed Water Analysis Tool\",\n      position: { 'my': 'center', 'at': 'center' },\n      dialogClass: 'be-well-informed-modal',\n      autoOpen: false,\n      draggable: false,\n      resizable: false,\n      create: function(event, ui) {\n        $('#bwi-tabs').tabs();\n        var $form = $('#water_analysis_results_form');\n        $form\n          .parsley({\n            inputs: Parsley.options.inputs + ',[data-parsley-check-children]'\n          })\n          .on('field:validated', function() {\n            var ok = $('.parsley-error').length === 0;\n            $('.bs-callout-info').toggleClass('hidden', !ok);\n            $('.bs-callout-warning').toggleClass('hidden', ok);\n          })\n          .on('form:submit', function() {\n            return false; // Don't submit form for this demo\n          });\n\n        $('#water_analysis_reset').click(function() {\n          resetBWIForm();\n          resizeModal()\n        });\n\n        $(window).resize(function(){resizeModal();})\n      },\n      close: function(event, ui) {\n        sampleSetIndex = 0\n        $('#be-well-informed-results-table, #be-well-informed-result-details-table').dataTable({bDestroy: true}).fnDestroy();\n        $('#be-well-informed-results-table, #be-well-informed-result-details-table, #be-well-informed-results-table_wrapper, #be-well-informed-result-details-table_wrapper').remove();\n        $('#routine-contaminants, .or').removeClass('hide')\n        $('#interactive-prompts').html('')\n        $('#interactive-prompts, #additional-contaminant-requests, .interactive-prompt, .additional-contaminant-requests').addClass('hide')\n        $('treatment-header, .treatment-content, .treatment-step, .box-main, .instruction-icon, .caret').addClass('hide')\n        showElementOutOfMany($('#be-well-informed-form-wrapper'), $('.be-well-informed-modal-wrapper'));\n      }\n    })\n\n  $('#bwi-check-water-btn').click(function() {\n    $('#be-well-informed-modal').dialog(\"open\");\n    resizeModal()\n  });\n\n  $('#be-well-informed-modal').on('click', '#water_analysis_submit', function() {\n    var $form = $('#water_analysis_results_form');\n    // If the form does not validate do not submit data.\n    if (!$form.parsley().validate()) {\n      return false;\n    }\n\n    var $loading_wrapper = $('#be-well-informed-loading-wrapper');\n    var $results_wrapper = $('#be-well-informed-results-wrapper');\n    var $form_wrapper = $('#be-well-informed-form-wrapper');\n    var $all_wrappers = $('.be-well-informed-modal-wrapper');\n    var formData = $form.serializeObject();\n    var data = Object.keys(formData).reduce(checkValues, formData);\n    //console.log(data, JSON.stringify(data))\n    showElementOutOfMany($loading_wrapper, $all_wrappers);\n    $('#entry-tab').text('Entry');\n    $.ajax({\n      url: 'be_well_informed/form_submission',\n      method: 'POST',\n      data: data,\n      success: function(be_well_response_json) {\n        if (!be_well_response_json.error) {\n          // reset the modal and return it to a 'default' state\n          $('#routine-contaminants, .or').removeClass('hide')\n          $('#interactive-prompts, #additional-contaminant-requests, .interactive-prompt, .additional-contaminant-requests').addClass('hide')\n          $('treatment-header, .treatment-content, .treatment-step, .box-main, .instruction-icon, .caret, .system-type-house, .system-type-water').addClass('hide')\n          $('#water_analysis_reset').addClass('invisible')\n          $('.bs-callout-info, .bs-callout-warning').toggleClass('hidden', true)\n\n          // Handle all the addition requests for the service\n          if(!!be_well_response_json.data.InteractivePrompts.length || !!be_well_response_json.data.AdditionalContaminantRequests.length) {\n            $('#routine-contaminants').addClass('hide')\n            $interactive_prompts = $('#interactive-prompts');\n            // Handle any interactive prompts that are returned from the service\n            if(!!be_well_response_json.data.InteractivePrompts.length){\n              // We need build out the html and append it to the form\n              be_well_response_json.data.InteractivePrompts.map(function(item, index, prompts){\n                // check if it already exists, skip it\n                var interaction_string = item.Interaction.replace(/\"/g, '');\n                var $item = $('[data-interaction=\"' + interaction_string + '\"]')\n                var exists = !!$item.length\n                if(!exists) {\n                  // build the prompts ui if needed\n                  var $prompt = $('<div class=\"section row interactive-prompt\"></div>').attr('data-interaction', interaction_string)\n                    .appendTo($interactive_prompts)\n                  var $title = $('<div class=\"column usa-width-one-half\"><p class=\"interaction\">' + interaction_string + '</p></div>')\n                    .appendTo($prompt)\n                  var $inputs = $('<div class=\"column usa-width-one-half btn-group\">' +\n                    '<button for=\"\" class=\"usa-button-outline\" type=\"button\"><input type=\"radio\" value=\"true\">Yes</button>' +\n                    '<button for=\"\" class=\"usa-button-outline\" type=\"button\"><input type=\"radio\" value=\"false\">No</button>' +\n                    '</div>')\n                    .appendTo($prompt)\n                    .on('click', 'button', function(e) {\n                      // toggle CSS classes to indicate which button has been clicked\n                      $inputs.find('button').not(e.currentTarget).removeClass('usa-button-primary').addClass('usa-button-outline');\n                      $(e.currentTarget).addClass('usa-button-primary').removeClass('usa-button-outline');\n\n                      // select the appropriate radio element\n                      $(this).find('input:radio').prop(\"checked\", true);\n                    })\n                  $inputs.find('input').attr('name', 'InteractivePromptResponses['+index+'][Interaction]')\n                  var $hidden_symbol = $('<input type=\"hidden\">')\n                    .attr('name', 'InteractivePromptResponses['+index+'][Symbol]')\n                    .val(item.Symbol)\n                    .prependTo($inputs)\n                  var $hidden_identifier = $('<input type=\"hidden\">')\n                    .attr('name', 'InteractivePromptResponses['+index+'][InteractionIdentifier]')\n                    .val(item.InteractionIdentifier)\n                    .prependTo($inputs)\n                }\n                else {\n                  $item.removeClass('hide')\n                }\n              })\n              $interactive_prompts.removeClass('hide')\n            }\n            // Handle any additional contaminant requests that are returned from the service\n            if(!!be_well_response_json.data.AdditionalContaminantRequests.length){\n              // We need build out the html and append it to the form\n              be_well_response_json.data.AdditionalContaminantRequests.map(function(item, index, prompts){\n                // check if it already exists, skip it\n                var interaction_string = item.Interaction.replace(/\"/g, '');\n                var $item = $('[data-interaction=\"' + interaction_string + '\"]')\n                var exists = !!$item.length\n                if(!exists) {\n                  // build the prompts ui if needed\n                  var $prompt = $('<div class=\"section row additional-contaminant-requests\"></div>').attr('data-interaction', interaction_string)\n                    .appendTo($interactive_prompts)\n                  var $title = $('<div class=\"column usa-width-one-half\"><p class=\"interaction\">' + interaction_string + '</p></div>')\n                    .appendTo($prompt)\n                  var $column = $('<div class=\"column usa-width-one-half\"></div>')\n                    .appendTo($prompt)\n                  // we will use the existing form to submit the updated values\n                  var $input = $('<input class=\"one-third offset-one-third\" type=\"number\" step=\"0.001\" required>')\n                    .on('change', function() {\n                      $('[name=\"RoutineContaminants[' + item.Symbol + '][Value]\"]').val($(this).val())\n                    })\n                    .appendTo($column)\n                  var $select = $('<select class=\"one-third\" ></select>')\n                    .html($('[name=\"RoutineContaminants[' + item.Symbol + '][Unit]\"]').html())\n                    .on('change', function() {\n                      $('[name=\"RoutineContaminants[' + item.Symbol + '][Unit]\"]').val($(this).val())\n                    })\n                    .appendTo($column)\n                }\n                else {\n                  $item.removeClass('hide')\n                }\n              })\n              $interactive_prompts.removeClass('hide')\n            }\n            showElementOutOfMany($form_wrapper, $all_wrappers);\n            $('#entry-tab').text('Entry');\n          }\n          // If there are no additional questions we should have results\n          else if(!!be_well_response_json.data.ResultEvaluations) {\n            // Additional resets\n            $('#interactive-prompts').html('');\n\n            // Use two separate instances of Datatable configs for both datatables\n            var default_datatable_result_details_options = {\n              dom: 't',\n              bLengthChange: false,\n              bAutoWidth: false,\n              bSort: false,\n              columnDefs: [\n                {className: \"small-screen-td-header\", \"targets\": [0]}\n              ],\n              createdRow: function(row, data, dataIndex) {\n                // Add data-title attributes to row\n                $(row).find('td:eq(0)').attr('data-title', 'Result');\n                $(row).find('td:eq(1)').attr('data-title', 'Element');\n                $(row).find('td:eq(2)').attr('data-title', 'Your Entry');\n                $(row).find('td:eq(3)').attr('data-title', 'Limit');\n                $(row).find('td:eq(4)').attr('data-title', 'About Your Well Water');\n              },\n              data: be_well_response_json.data.result_summary,\n              paging: false\n            };\n\n            var default_datatable_result_summary_options = {\n              dom: 't',\n              bLengthChange: false,\n              bAutoWidth: false,\n              bSort: false,\n              columnDefs: [\n                {className: \"small-screen-td-header\", \"targets\": [0]}\n              ],\n              createdRow: function(row, data, dataIndex) {\n                // Add data-title attributes to row\n                $(row).find('td:eq(0)').attr('data-title', 'Result');\n                $(row).find('td:eq(1)').attr('data-title', 'Element');\n                $(row).find('td:eq(2)').attr('data-title', 'Your Entry');\n                $(row).find('td:eq(3)').attr('data-title', 'Limit');\n                $(row).find('td:eq(4)').attr('data-title', 'About Your Well Water');\n              },\n              data: be_well_response_json.data.result_summary,\n              paging: false\n            };\n\n            $table = $('<table id=\"be-well-informed-results-table\" class=\"eportal-responsive-table usa-table-borderless\"> <thead> <tr> <th>Result</th> <th>Element</th> <th>Your Entry</th> <th>Limit</th> <th>About Your Well Water</th> </tr> </thead> <tbody></tbody> </table>')\n            $table.appendTo('.be-well-informed-results').DataTable(default_datatable_result_summary_options);\n\n            $table = $('<table id=\"be-well-informed-result-details-table\" class=\"eportal-responsive-table usa-table-borderless\"> <thead> <tr> <th>Result</th> <th>Element</th> <th>Your Entry</th> <th>Limit</th> <th>About Your Well Water</th> </tr> </thead> <tbody></tbody> </table>')\n            $table.appendTo('.be-well-informed-result-details').DataTable(default_datatable_result_details_options);\n\n            // Loop through and add trs to the summary table. Datatable does not support colspan\n            var result;\n            var row_index = 1;\n            var titles = ['Interpretation of Results:', 'Health Concerns:', 'Treatment Options:']\n            $.each(be_well_response_json.data.result_details, function(index, detail_obj) {\n              result = detail_obj.result;\n              if (detail_obj.data_array.length > 0) {\n                for (var i = 0; i < detail_obj.data_array.length; i++) {\n                  if (detail_obj.data_array[i] !== '') {\n                    $('#be-well-informed-result-details-table')\n                      .find('tr:eq(' + (row_index + index) + ')')\n                      .after('<tr><td class=\"bwi-detail-td ' + result + '\" colspan=\"5\"><h4>' + titles[i] + '</h4>' + detail_obj.data_array[i] + '</td></tr>');\n                    row_index++;\n                  }\n                }\n              }\n            });\n\n            // if we have values in the be_well_response_json.TreatmentSteps show the treatment steps section\n            if(be_well_response_json.data.TreatmentSteps && Object.keys(be_well_response_json.data.TreatmentSteps).length > 0){\n              $('.treatment-header, .treatment-content').removeClass('hide')\n\n              // update title to include all contaminats that have TreatmentMessages != ''\n              var contaminants = []\n              var excluded = ['Fe', 'NO2', 'Bac', 'Ecoli']\n              for(var contaminate in be_well_response_json.data.ResultEvaluations){\n                if(excluded.indexOf(contaminate) == -1 && be_well_response_json.data.ResultEvaluations[contaminate].GuidelineColor == \"font-red\"){\n                  contaminants.push(be_well_response_json.data.ResultEvaluations[contaminate].ContaminantFullName)\n                }\n              }\n\n              // handle multiple number of contaminats in the title\n              if(contaminants.length > 1) {\n                var last = contaminants.pop()\n                var title = contaminants.join(', ')\n                title += ' and ' + last\n              }\n              else {\n                title = contaminants.pop()\n              }\n              $('.treatment-text').html(title)\n\n              // update the steps labels to properly show the needed steps\n              var step_label = 1;\n              var toShow = [];\n              for(var step in be_well_response_json.data.TreatmentSteps){\n                var $treatment = $('.treatment-step').eq(step)\n                $treatment.removeClass('hide')\n                  .find('.step span')\n                  .html('Step '+step_label)\n                be_well_response_json.data.TreatmentSteps[step].OrInstructions.map(function(item, index, list) {\n                  $treatment.find('[title=\"'+item.Recommendation+'\"]')\n                    .removeClass('hide')\n                  var cssClass = '.system-type-'+item.SystemType.toLowerCase()\n                  if(toShow.indexOf(cssClass) == -1) {\n                    toShow.push(cssClass)\n                  }\n                })\n                step_label++\n                // update visibility of boxes and their instructions\n\n              }\n\n              $(toShow.join(', ')).removeClass('hide')\n\n              jQuery('.or + .box-main.hide').each(function(){\n                var $this = jQuery(this);\n                $this.prev().addClass('hide')\n              })\n              $('.treatment-step:visible').eq(0).find('.caret').addClass('hide')\n\n            }\n\n            $('.contaminant-link').click(function(){\n              var $this = $(this)\n              $('[id=' + $this.attr('data-contaminant') + ']', $(this).parents('td')).slideToggle()\n            })\n            showElementOutOfMany($results_wrapper, $all_wrappers);\n            $('#entry-tab').text('Results');\n          }\n          resizeModal();\n        }\n        else {\n          showElementOutOfMany($results_wrapper, $all_wrappers);\n          $('#entry-tab').text('Results');\n        }\n        resizeModal();\n      }\n    });\n  });\n\n  /**\n   * Close Listener on BWI Modal\n   * -  Destroy Datatables\n   * -  Cancel Pending Form submission\n   */\n  $('#be-well-informed-modal').on('dialogclose', function() {\n    var $form_wrapper = $('#be-well-informed-form-wrapper');\n    var $all_wrappers = $('.be-well-informed-modal-wrapper');\n\n    $('#be-well-informed-results-table').DataTable().destroy();\n    $('#be-well-informed-result-details-table').DataTable().destroy();\n    $('#water_analysis_reset').removeClass('invisible')\n    showElementOutOfMany($form_wrapper, $all_wrappers);\n    $('#entry-tab').text('Entry');\n    resizeModal();\n    $(\"html, body\").animate({ scrollTop: $('.pane-be-well-informed').offset().top }, 500);\n  });\n\n})(jQuery);\n"]}