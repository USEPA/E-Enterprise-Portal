{"version":3,"sources":["preview_urls.js"],"names":["$","previewButton","elem","url","text","htt","split","button","click","openDialog","window","open","iframe","append","appendTo","dialog","autoOpen","modal","dialogClass","resizable","width","height","position","my","at","of","close","attr","this","remove","document","ready","$urls","each","_this","qtip","content","hide","fixed","delay","target","style","classes","jQuery"],"mappings":"CAAC,SAASA,GAIN,QAASC,GAAcC,GACnB,GAAIC,GAAMD,EAAKE,OACXC,EAAMF,EAAIG,MAAM,KAAK,GACrBC,EAASP,EAAE,kDAaf,OAZAO,GAAOC,MAAM,WACE,SAAPH,EACAI,EAAWN,GAGXO,OAAOC,KACJR,EACC,YAKLI,EAIX,QAASE,GAAWN,GAChB,GAAIS,GAASZ,EAAE,qCAAuCG,EAAM,qFAC/CH,GAAE,eAAea,OAAOD,GAAQE,SAAS,QAAQC,QAC1DC,UAAU,EACVC,OAAO,EACbC,YAAa,wBACPC,WAAW,EACXC,MAAO,MACPC,OAAQ,MACRC,UACQC,GAAI,SACJC,GAAI,SACJC,GAAIf,QAEZgB,MAAO,WACHd,EAAOe,KAAK,MAAO,IACnB3B,EAAE4B,MAAMb,OAAO,WAAWc,YAMtC7B,EAAE8B,UAAUC,MAAM,WACd,GAAIC,GAAQhC,EAAE,gDACdA,GAAEiC,KAAKD,EAAO,WACN,GAAIE,GAAQlC,EAAE4B,KAClB5B,GAAE4B,MAAMO,MACJC,SACIhC,KAAMH,EAAciC,IAIxBG,MACIC,OAAO,EACPC,MAAO,KAGXjB,UACIC,GAAI,cACJC,GAAI,eACJgB,OAAQxC,EAAE4B,OAEda,OACIC,QAAS,mBACTtB,MAAO,eASzBuB","file":"preview_urls.js","sourcesContent":["(function($) {\r\n\r\n\r\n\r\n    function previewButton(elem) {\r\n        var url = elem.text();\r\n        var htt = url.split(':')[0];\r\n        var button = $(\"<button class='preview_button'>Preview</button>\");\r\n        button.click(function() {\r\n            if (htt == 'https') {\r\n                openDialog(url);\r\n            }\r\n            else {\r\n                window.open(\r\n                   url,\r\n                    '_blank' // <- This is what makes it open in a new window.\r\n                );\r\n\r\n            }\r\n        });\r\n        return button;\r\n\r\n    }\r\n\r\n    function openDialog(url) {\r\n        var iframe = $('<iframe class=\"modal-iframe\" src=\"' + url + '\"  class=\"modal-iframe\" marginwidth=\"0\" marginheight=\"0\" allowfullscreen></iframe>');\r\n        var dialog = $(\"<div></div>\").append(iframe).appendTo(\"body\").dialog({\r\n            autoOpen: true,\r\n            modal: true,\r\n\t\t\t\t\t\tdialogClass: 'recommended-resources',                                            \r\n            resizable: false,\r\n            width: \"90%\",\r\n            height: \"90%\",\r\n            position: {\r\n                    my: \"center\",\r\n                    at: \"center\",\r\n                    of: window\r\n            },\r\n            close: function () {\r\n                iframe.attr(\"src\", \"\");\r\n                $(this).dialog(\"destroy\").remove();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    $(document).ready(function() {\r\n        var $urls = $('td.views-field.views-field-field-source-url a');\r\n        $.each($urls, function() {\r\n                var _this = $(this);\r\n            $(this).qtip({ // Grab some elements to apply the tooltip to\r\n                content: {\r\n                    text: previewButton(_this)\r\n                },\r\n              //  content: $('<iframe class=\"preview-iframe\" src=\"'+ _this.text() + '\" />'),\r\n\r\n                hide: {\r\n                    fixed: true,\r\n                    delay: 300\r\n                },\r\n            //    show: true,\r\n                position: {\r\n                    my: 'left center',  // Position my top left...\r\n                    at: 'right center', // at the bottom right of...\r\n                    target: $(this) // my target\r\n                },\r\n                style: {\r\n                    classes: 'transparent-qtip',\r\n                    width: \"auto\"\r\n                }\r\n            });\r\n\r\n        });\r\n\r\n    });\r\n\r\n\r\n}(jQuery));"]}